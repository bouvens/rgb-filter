{"version":3,"sources":["webpack:///app.3072fa4b.js","webpack:///./src/components/DropImage.css","webpack:///./src/components/RGBFilter.css","webpack:///./src/components/RGBFilter.jsx","webpack:///./src/image-processing.js","webpack:///./src/utils.js","webpack:///./src/components/DropImage.jsx","webpack:///./src/components/App.jsx","webpack:///./src/index.js","webpack:///./src/constants.js"],"names":["webpackJsonp","/cxq","module","exports","header","output","bodyHover","0","__webpack_require__","4t6j","setters","controls","samples","animation","CVAh","__webpack_exports__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","d","RGBFilter","_class","_temp2","_extends2","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_state_control__","__WEBPACK_IMPORTED_MODULE_2_lodash__","__WEBPACK_IMPORTED_MODULE_2_lodash___default","__WEBPACK_IMPORTED_MODULE_3__DropImage__","__WEBPACK_IMPORTED_MODULE_4__constants__","__WEBPACK_IMPORTED_MODULE_5__utils__","__WEBPACK_IMPORTED_MODULE_6__image_processing__","__WEBPACK_IMPORTED_MODULE_7__RGBFilter_css__","__WEBPACK_IMPORTED_MODULE_7__RGBFilter_css___default","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","cache","getSrc","name","throbber","_ref","a","createElement","_Component","_temp","_this","_ret","this","_len","args","Array","_key","apply","concat","state","props","getDivider","_this$state","image","limit","multiplier","Math","max","width","height","setImage","blob","src","window","URL","createObjectURL","handleDrop","setState","handleChange","_this$setState","round","selectImage","sample","processImage","_this$state2","noise","frames","delay","newCache","divider","isEqual","getBlob","render","_this2","onDrop","defaultImage","className","onChange","type","id","label","step","map","onClick","alt","setHandler","ref","e","defaultProps","Animated","EbHr","_objectWithoutProperties","obj","keys","indexOf","getCanvas","undefined","SHADOW","offScreenCanvas","document","getContext","offScreenContext","reduceImage","options","drawImage","data","getImageData","mapToRGB","_ref2","_ref2$data","mapRGB","y","x","index","_$slice","__WEBPACK_IMPORTED_MODULE_0_lodash___default","slice","r","g","b","set","makeItRGB","_ref3","_ref3$options","initNoise","_ref3$options$imageSm","imageSmoothingEnabled","newWidth","newHeight","gif","__WEBPACK_IMPORTED_MODULE_1_gif_js___default","workers","quality","workerScript","imageData","redLine","greenLine","blueLine","_mapRGB$x$y","getDeviation","red","green","blue","triple","putImageData","SCALED","msImageSmoothingEnabled","mozImageSmoothingEnabled","scale","addFrame","copy","on","toRGB","__WEBPACK_IMPORTED_MODULE_0_lodash__","__WEBPACK_IMPORTED_MODULE_1_gif_js__","random","c","flow","L/hj","PROCESSORS","transparent","_PROCESSORS","__WEBPACK_IMPORTED_MODULE_0__constants__","min","P7XT","DropImage","__WEBPACK_IMPORTED_MODULE_1_react_dom__","__WEBPACK_IMPORTED_MODULE_2_prop_types__","__WEBPACK_IMPORTED_MODULE_3_lodash__","__WEBPACK_IMPORTED_MODULE_3_lodash___default","__WEBPACK_IMPORTED_MODULE_4__DropImage_css__","__WEBPACK_IMPORTED_MODULE_4__DropImage_css___default","BodyPortal","children","body","onFileLoad","img","result","onError","isFileLoading","onImageLoad","handleDragOver","evt","dataTransfer","dropEffect","stopPropagation","preventDefault","handleDragEnter","isDragOver","handleDragLeave","handleFileSelect","files","link","getData","isEmpty","f","size","file","readAsDataURL","FileReader","onload","onerror","Image","crossOrigin","componentDidMount","addEventListener","componentWillReceiveProps","nextProps","onDragLeave","noop","YO0e","__WEBPACK_IMPORTED_MODULE_1__RGBFilter__","App","cilB","lVK7","defineProperty","__WEBPACK_IMPORTED_MODULE_2__index_css__","__WEBPACK_IMPORTED_MODULE_3__components_App__","querySelector","oiih","IDS","IMAGES","SETTERS","_Animated","_Still","_Slow","_Sharp","animate","Still","Slow","Sharp"],"mappings":"AAAAA,cAAc,IAERC,OACA,SAAUC,EAAQC,GCFxBD,EAAAC,SAAkBC,OAAA,2BAAAC,OAAA,2BAAAC,UAAA,gCDSZC,EACA,SAAUL,EAAQC,EAASK,GAEjCA,EAAoB,QACpBN,EAAOC,QAAUK,EAAoB,SAK/BC,OACA,SAAUP,EAAQC,GEnBxBD,EAAAC,SAAkBO,QAAA,4BAAAC,SAAA,6BAAAC,QAAA,4BAAAC,UAAA,gCF0BZC,KACA,SAAUZ,EAAQa,EAAqBP,GAE7C,YAiBA,SAASQ,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMC,GAAQ,IAAKD,EAAQ,KAAM,IAAIE,gBAAe,4DAAgE,QAAOD,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BD,EAAPC,EAElO,QAASE,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIP,WAAU,iEAAoEO,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GApBlclB,EAAoB6B,EAAEtB,EAAqB,IAAK,WAAa,MAAOuB,IAC9E,IAajBC,GAAQC,EAAQC,EAbKC,EAAsClC,EAAoB,QAC1DmC,EAA8CnC,EAAoBoC,EAAEF,GACpEG,EAA8CrC,EAAoB,QAClEsC,EAAuCtC,EAAoB,QAC3DuC,EAA+CvC,EAAoBoC,EAAEE,GACrEE,EAA2CxC,EAAoB,QAC/DyC,EAA2CzC,EAAoB,QAC/D0C,EAAuC1C,EAAoB,QAC3D2C,EAAkD3C,EAAoB,QACtE4C,EAA+C5C,EAAoB,QACnE6C,EAAuD7C,EAAoBoC,EAAEQ,GAClGE,EAAW1B,OAAO2B,QAAU,SAAUC,GAAU,IAAK,GAAIC,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIG,GAASF,UAAUD,EAAI,KAAK,GAAII,KAAOD,GAAchC,OAAOD,UAAUmC,eAAexC,KAAKsC,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,MAAOL,IGlCnPO,SAEEC,EAAS,SAACC,GAAD,kBAAsBA,GAC/BC,EAAWF,EAAO,iBHyDpBG,EGgDgBxB,EAAAyB,EAAAC,cAAA,sCAvGC/B,GH6DJE,EAASD,EAAS,SAAU+B,GAGzC,QAAShC,KACL,GAAIiC,GAAOC,EAAOC,CAElBzD,GAAgB0D,KAAMpC,EAEtB,KAAK,GAAIqC,GAAOjB,UAAUC,OAAQiB,EAAOC,MAAMF,GAAOG,EAAO,EAAGA,EAAOH,EAAMG,IACzEF,EAAKE,GAAQpB,UAAUoB,EAG3B,OAAeP,GAASC,EAAQpD,EAA2BsD,KAAMJ,EAAWhD,KAAKyD,MAAMT,GAAaI,MAAMM,OAAOJ,KAAiBJ,EGnEtIS,MHmEoJ3B,KGlE7IkB,EAAKU,OHkEmKV,EG/D/KW,WAAa,WAAM,GAAAC,GACsBZ,EAAKS,MAAlCI,EADOD,EACPC,MAAOC,EADAF,EACAE,MAAOC,EADPH,EACOG,UAItB,OAHgBC,MAAKC,IAAIJ,EAAMK,MAAOL,EAAMM,SAC1BL,EAAQC,EAAa,IHsEpCf,EGjEPoB,SAAW,SAACC,GACRrB,EAAKa,MAAMS,IAAMC,OAAOC,IAAIC,gBAAgBJ,IHkEzCrB,EG/DP0B,WAAa,SAACb,GACVb,EAAK2B,UAAWd,WHgEbb,EG7DP4B,aAAe,SAACnC,EAAMlC,GAAU,GAAAsE,EAC5B7B,GAAK2B,UAALE,OACKpC,GAAOuB,KAAKc,OAAOpD,EAAA,EAAWe,IAASf,EAAA,GAAanB,IADzDsE,KHgEG7B,EG3DP+B,YAAc,SAACC,GAAD,MAAY,YACtBhC,EAAK2B,UAAWK,aH8DbhC,EG3DPiC,aAAe,WAAM,GAAAC,GACmClC,EAAKS,MAAjDI,EADSqB,EACTrB,MAAOsB,EADED,EACFC,MAAOC,EADLF,EACKE,OAAQC,EADbH,EACaG,MAAOtB,EADpBmB,EACoBnB,UACrC,IAAKF,EAAL,CAIA,GAAMyB,IAAazB,MAAOA,EAAMS,IAAKiB,QAASvC,EAAKW,aAAcwB,QAAOC,SAAQC,QAAOtB,aAEnFxC,GAAAqB,EAAE4C,QAAQjD,EAAO+C,KAIrBtC,EAAKa,MAAMS,IAAM5B,EACjBH,EAAQ+C,EAERlF,OAAAuB,EAAA,GAAMkC,GACF0B,QAASvC,EAAKW,aACdwB,MAAOnC,EAAKS,MAAM0B,MAClBC,OAAQpC,EAAKS,MAAM2B,OACnBC,MAAOrC,EAAKS,MAAM4B,MAClBtB,WAAYf,EAAKS,MAAMM,WACvB0B,QAASzC,EAAKoB,cHgBXnB,EAmDJF,EAAQnD,EAA2BoD,EAAOC,GAqFjD,MAnJAjD,GAAUc,EAAWgC,GAiErBhC,EAAUX,UGlEVuF,OHkE6B,WGlEnB,GAAAC,GAAAzC,IAGN,OAFAA,MAAK+B,eAGD9D,EAAAyB,EAAAC,cAAA,WACI1B,EAAAyB,EAAAC,cAACrB,EAAA,GACGoE,OAAQ1C,KAAKwB,WACbmB,aAAcrD,EAAOU,KAAKO,MAAMuB,UAEpC7D,EAAAyB,EAAAC,cAAA,OAAKiD,UAAWjE,EAAAe,EAAMzD,UAClBgC,EAAAyB,EAAAC,cAACxB,EAAA,GACGoC,MAAOP,KAAKO,MACZsC,SAAU7C,KAAK0B,aACfoB,KAAK,UAEL7E,EAAAyB,EAAAC,cAACxB,EAAA,GACG4E,GAAIxE,EAAA,EAAIsC,WACRmC,MAAM,oBAEV/E,EAAAyB,EAAAC,cAACxB,EAAA,GACG4E,GAAIxE,EAAA,EAAIqC,MACRoC,MAAM,QACNC,KAAM,MAEVhF,EAAAyB,EAAAC,cAACxB,EAAA,GACG4E,GAAIxE,EAAA,EAAI0D,MACRe,MAAM,eACNC,KAAM,IAEVhF,EAAAyB,EAAAC,cAACxB,EAAA,GACG4E,GAAIxE,EAAA,EAAI2D,OACRc,MAAM,UACNC,KAAM,IAEVhF,EAAAyB,EAAAC,cAACxB,EAAA,GACG4E,GAAIxE,EAAA,EAAI4D,MACRa,MAAM,SACNC,KAAM,OAIlBhF,EAAAyB,EAAAC,cAAA,OAAKiD,UAAWjE,EAAAe,EAAMxD,SAAtBuD,EAEKpB,EAAAqB,EAAEwD,IAAI3E,EAAA,EAAQ,SAACoC,GAAD,MAEX1C,GAAAyB,EAAAC,cAAA,OACIR,IAAKwB,EACLS,IAAK9B,EAAOqB,GACZwC,QAASV,EAAKZ,YAAYlB,GAC1ByC,IAAI,OAGZnF,EAAAyB,EAAAC,cAACxB,EAAA,GACGyE,UAAWjE,EAAAe,EAAM1D,QACjBA,QAASuC,EAAA,EACT8E,WAAYrD,KAAK0B,gBAGzBzD,EAAAyB,EAAAC,cAAA,OAAKiD,UAAWjE,EAAAe,EAAMvD,WAClB8B,EAAAyB,EAAAC,cAAA,OACI2D,IAAK,SAACC,GAAQd,EAAK9B,MAAQ4C,GAC3BH,IAAI,QHuFjBxF,GGjN4BI,EAAA,WHkNcH,EGjN1C2F,aHiNgE5E,KGhNhEL,EAAA,EAAQkF,UHgN4I1F,KAAgBA,EG/MtKQ,EAAA,EAAIuD,QAASvD,EAAA,EAAO,GH+M6RR,IAAaD,IAKjU4F,KACA,SAAUlI,EAAQa,EAAqBP,GAE7C,YAMA,SAAS6H,GAAyBC,EAAKC,GAAQ,GAAI/E,KAAa,KAAK,GAAIC,KAAK6E,GAAWC,EAAKC,QAAQ/E,IAAM,GAAkB7B,OAAOD,UAAUmC,eAAexC,KAAKgH,EAAK7E,KAAcD,EAAOC,GAAK6E,EAAI7E,GAAM,OAAOD,GIrOnN,QAASiF,KAAwB,GAAbhB,GAAa/D,UAAAC,OAAA,OAAA+E,KAAAhF,UAAA,GAAAA,UAAA,GAARiF,CAKrB,OAJKC,GAAgBnB,KACjBmB,EAAgBnB,GAAMoB,SAASxE,cAAc,WAG1CuE,EAAgBnB,GAG3B,QAASqB,KAAyB,GAAbrB,GAAa/D,UAAAC,OAAA,OAAA+E,KAAAhF,UAAA,GAAAA,UAAA,GAARiF,CAKtB,OAJKI,GAAiBtB,KAClBsB,EAAiBtB,GAAMgB,EAAUhB,GAAIqB,WAAW,OAG7CC,EAAiBtB,GAO5B,QAASuB,GAAa3D,EAAtBlB,GAAsD,GAAvB4C,GAAuB5C,EAAvB4C,QAAYkC,EAAWZ,EAAAlE,GAAA,YAC5CuB,EAAQL,EAAMK,MAAQqB,EACtBpB,EAASN,EAAMM,OAASoB,CAM9B,OAJA0B,KAAY/C,MAAQA,EACpB+C,IAAY9C,OAASA,EACrBmD,IAAaI,UAAU7D,EAAO,EAAG,EAAGK,EAAOC,GAEvC8C,IAAY/C,MAAQ,GAAK+C,IAAY9C,OAAS,MAK9CwD,KAAML,IAAaM,aAAa,EAAG,EAAG1D,EAAOC,GAC7CsD,WAIR,QAASI,GAATC,GAGI,IAAK,GAHsDC,GAAAD,EAA1CH,KAAQA,EAAkCI,EAAlCJ,KAAMzD,EAA4B6D,EAA5B7D,MAAOC,EAAqB4D,EAArB5D,OAAUsD,EAAWK,EAAXL,QAC1CO,KAEGC,EAAI,EAAGA,EAAI9D,EAAQ8D,GAAK,EAC7B,IAAK,GAAIC,GAAI,EAAGA,EAAIhE,EAAOgE,GAAK,EAAG,CAC/B,GAAMC,GAA4B,GAAlBF,EAAI/D,EAASgE,GADEE,EAEbC,EAAAzF,EAAE0F,MAAMX,EAAMQ,EAAOA,EAAQ,GAAxCI,EAFwBH,EAAA,GAErBI,EAFqBJ,EAAA,GAElBK,EAFkBL,EAAA,EAI/BC,GAAAzF,EAAE8F,IAAIV,GAASE,EAAGD,IAAMM,IAAGC,IAAGC,MAItC,OAAST,SAAQP,WAGrB,QAASkB,GAATC,GAUG,GATCZ,GASDY,EATCZ,OASDa,EAAAD,EARCnB,QACWqB,EAOZD,EAPK1D,MACAC,EAMLyD,EANKzD,OACArB,EAKL8E,EALK9E,WAKLgF,EAAAF,EAJKG,4BAIL9B,KAAA6B,KAHK1D,EAGLwD,EAHKxD,MACAI,EAELoD,EAFKpD,QAGEN,EAAS2D,EAAY,IAAO,IAC5B5E,EAAQ8D,EAAO7F,MACrB,IAAc,IAAV+B,EAAJ,CAGA,GAAMC,GAAS6D,EAAO,GAAG7F,OACnB8G,EAAmB,EAAR/E,EACXgF,EAAqB,EAAT/E,CAElB8C,KAAY/C,MAAQ+E,EACpBhC,IAAY9C,OAAS+E,CAQrB,KAAK,GANCC,GAAM,GAAIC,GAAAxG,GACZyG,QAAS,EACTC,QAAS,GACTC,aAAc,0BAGTtH,EAAI,EAAGA,EAAImD,EAAQnD,GAAK,EAAG,CAIhC,IAAK,GAHCuH,GAAYlC,IAAaM,aAAa,EAAG,EAAGqB,EAAUC,GACpDvB,EAAS6B,EAAT7B,KAECM,EAAI,EAAGA,EAAI9D,EAAQ8D,GAAK,EAAG,CAKhC,IAAK,GAJDwB,MACAC,KACAC,KAEKzB,EAAI,EAAGA,EAAIhE,EAAOgE,GAAK,EAAG,IAAA0B,GACb5B,EAAOE,GAAGD,GAAtBM,EADyBqB,EACzBrB,EAAGC,EADsBoB,EACtBpB,EAAGC,EADmBmB,EACnBnB,CAEZF,IAAKsB,EAAa1E,GAClBqD,GAAKqB,EAAa1E,GAClBsD,GAAKoB,EAAa1E,EAElB,IAAM2E,IAAOvB,EAAG,EAAG,EAAG,KAChBwB,GAAS,EAAGvB,EAAG,EAAG,KAClBwB,GAAQ,EAAG,EAAGvB,EAAG,IAEvBgB,GAAUA,EAAQjG,OAAOyG,EAAOH,IAChCJ,EAAYA,EAAUlG,OAAOyG,EAAOF,IACpCJ,EAAWA,EAASnG,OAAOyG,EAAOD,IAGtCrC,EAAKe,IAAIL,EAAAzF,EAAEY,OAAOiG,EAASC,EAAWC,GAAY1B,EAAI/D,EAAQ,EAAK,EAAI,GAG3EoD,IAAa4C,aAAaV,EAAW,EAAG,GAExCvC,EAAUkD,GAAQjG,MAAQ+C,IAAY/C,MAAQH,EAC9CkD,EAAUkD,GAAQhG,OAAS8C,IAAY9C,OAASJ,EAEhDuD,EAAW6C,GAAQnB,sBAAwBA,EAC3C1B,EAAW6C,GAAQC,wBAA0BpB,EAC7C1B,EAAW6C,GAAQE,yBAA2BrB,EAE9C1B,EAAW6C,GAAQG,MAAMvG,EAAYA,GACrCuD,EAAW6C,GAAQzC,UAAUT,IAAa,EAAG,GAE7CkC,EAAIoB,SAAStD,EAAUkD,IACnB9E,QACAmF,MAAM,IAIdrB,EAAIsB,GAAG,WAAYhF,GAEnB0D,EAAIzD,UJ8FuB1G,EAAoB6B,EAAEtB,EAAqB,IAAK,WAAa,MAAOmL,IAC9E,IAAIC,GAAuC3L,EAAoB,QAC3DqJ,EAA+CrJ,EAAoBoC,EAAEuJ,GACrEC,EAAuC5L,EAAoB,QAC3DoK,EAA+CpK,EAAoBoC,EAAEwJ,GI1OxFzD,EAAS,SACTgD,EAAS,SAET/C,KACAG,KAkBAsC,EAAe,SAAChJ,GAAD,MAAOmD,MAAK6G,SAAWhK,GAEtCoJ,EAAS,SAACa,GAAD,MAAOzC,GAAAzF,EAAEY,OAAOsH,EAAGA,EAAGA,IAmHxBJ,EAAQrC,EAAAzF,EAAEmI,MAAMvD,EAAaK,EAAUc,KJ8Q9CqC,OACA,SAAUtM,EAAQa,EAAqBP,GAE7C,YAC+BA,GAAoB6B,EAAEtB,EAAqB,IAAK,WAAa,MAAO0L,KACpEjM,EAAoB6B,EAAEtB,EAAqB,IAAK,WAAa,MAAO2L,IAC9E,IACjBC,GADqBC,EAA2CpM,EAAoB,QKha3EiM,UACRG,EAAA,EAAIrH,YAAa,SAACxD,GAAD,MAAWyD,MAAKqH,IAAIrH,KAAKC,IAAI1D,EAAO,GAAI,KADjD4K,EAERC,EAAA,EAAItH,OAAQ,SAACvD,GAAD,MAAWyD,MAAKqH,IAAIrH,KAAKC,IAAI1D,EAAO,GAAI,MAF5C4K,EAGRC,EAAA,EAAIjG,OAAQ,SAAC5E,GAAD,MAAWyD,MAAKqH,IAAIrH,KAAKC,IAAI1D,EAAO,GAAI,MAH5C4K,EAIRC,EAAA,EAAIhG,QAAS,SAAC7E,GAAD,MAAWyD,MAAKqH,IAAIrH,KAAKC,IAAI1D,EAAO,GAAI,KAJ7C4K,GAOAD,EAAc,SAAC3K,GAAD,MAAWA,KL8ahC+K,KACA,SAAU5M,EAAQa,EAAqBP,GAE7C,YAcA,SAASQ,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMC,GAAQ,IAAKD,EAAQ,KAAM,IAAIE,gBAAe,4DAAgE,QAAOD,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BD,EAAPC,EAElO,QAASE,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIP,WAAU,iEAAoEO,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAjBlclB,EAAoB6B,EAAEtB,EAAqB,IAAK,WAAa,MAAOgM,IAC9E,IAUjBxK,GAAQgC,EAVa7B,EAAsClC,EAAoB,QAC1DmC,EAA8CnC,EAAoBoC,EAAEF,GACpEsK,EAA0CxM,EAAoB,QAE9DyM,GADkDzM,EAAoBoC,EAAEoK,GAC7BxM,EAAoB,SAE/D0M,GADmD1M,EAAoBoC,EAAEqK,GAClCzM,EAAoB,SAC3D2M,EAA+C3M,EAAoBoC,EAAEsK,GACrEE,EAA+C5M,EAAoB,QACnE6M,EAAuD7M,EAAoBoC,EAAEwK,GM/bhGE,EAAa,SAAAnJ,GAAA,GAAGoJ,GAAHpJ,EAAGoJ,QAAH,OAAkB3L,QAAAoL,EAAA,cAAaO,EAAU1E,SAAS2E,OAEhDT,GNidJxI,EAAQhC,EAAS,SAAU+B,GMvcxC,QAAAyI,GAAa7H,GAAOlE,EAAA0D,KAAAqI,EAAA,IAAAvI,GAAApD,EAAAsD,KAChBJ,EAAAhD,KAAAoD,KAAMQ,GADU,OAAAV,GAgCpBiJ,WAAa,SAAAnE,GAAgB,GAAb9F,GAAa8F,EAAb9F,MACZgB,GAAKkJ,IAAI5H,IAAMtC,EAAOmK,QAjCNnJ,EAoCpBoJ,QAAU,WACNpJ,EAAK2B,UACD0H,eAAe,EACfxN,OAAQ,+GAvCImE,EA2CpBsJ,YAAc,SAAA1D,GAAgB,GAAb5G,GAAa4G,EAAb5G,MACbgB,GAAK2B,UACD0H,eAAe,IAEnBrJ,EAAKU,MAAMkC,OAAO5D,IA/CFgB,EAkDpBuJ,eAAiB,SAACC,GACWA,EAAjBC,aACKC,WAAa,OAC1BF,EAAIG,kBACJH,EAAII,kBAtDY5J,EAyDpB6J,gBAAkB,WACd7J,EAAK2B,UACDmI,YAAY,KA3DA9J,EA+DpB+J,gBAAkB,WACd/J,EAAK2B,UACDmI,YAAY,KAjEA9J,EAqEpBgK,iBAAmB,SAACR,GAChBxJ,EAAK2B,UACDmI,YAAY,EACZT,eAAe,IAGnBG,EAAIG,kBACJH,EAAII,gBAPoB,IAShBK,GAAUT,EAAIC,aAAdQ,MACFC,EAAOV,EAAIC,aAAaU,QAAQ,QAElCtO,QAEA8M,GAAA/I,EAAEwK,QAAQH,IAAUT,EAAIC,aAAaU,QAAQ,SAC7CtO,EAAS,GACTmE,EAAKkJ,IAAI5H,IAAM4I,GAEfrO,EAAS8M,EAAA/I,EAAEwD,IAAI6G,EAAO,SAACI,GAAD,MAClBlM,GAAAyB,EAAAC,cAAA,MAAIR,IAAKgL,EAAE5K,MACH4K,EAAE5K,KADV,MACmB4K,EAAErH,MAAQ,OAD7B,OACyCqH,EAAEC,KAD3C,WAMR,KACItK,EAAKuK,KAAKC,cAAcP,EAAM,IAChC,MAAOxG,GACLzD,EAAKoJ,QAAQ3F,GAGjBzD,EAAK2B,UAAW9F,YAjGhBmE,EAAKS,OACD5E,OAAQ,GACRiO,YAAY,EACZT,eAAe,GAGnBrJ,EAAKuK,KAAO,GAAIE,YAChBzK,EAAKuK,KAAKG,OAAS1K,EAAKiJ,WACxBjJ,EAAKuK,KAAKI,QAAU3K,EAAKoJ,QAEzBpJ,EAAKkJ,IAAM,GAAI0B,OACf5K,EAAKkJ,IAAIwB,OAAS1K,EAAKsJ,YACvBtJ,EAAKkJ,IAAIyB,QAAU3K,EAAKoJ,QACxBpJ,EAAKkJ,IAAI5H,IAAMtB,EAAKU,MAAMmC,aAC1B7C,EAAKkJ,IAAI2B,YAAc,YAjBP7K,EN8lBpB,MAtJAhD,GAAUuL,EAAWzI,GAwGrByI,EAAUpL,UM5hBV2N,kBN4hBwC,WM3hBpCzG,SAAS0G,iBAAiB,WAAY7K,KAAKqJ,gBAC3ClF,SAAS0G,iBAAiB,YAAa7K,KAAK2J,iBAC5CxF,SAAS0G,iBAAiB,OAAQ7K,KAAK8J,mBN+hB3CzB,EAAUpL,UM5hBV6N,0BN4hBgD,SM5hBrBC,GAClBtC,EAAA/I,EAAE4C,QAAQtC,KAAKQ,MAAMmC,aAAcoI,EAAUpI,gBAC9C3C,KAAKgJ,IAAI5H,IAAM2J,EAAUpI,eNgiBjC0F,EAAUpL,UMrdVuF,ONqd6B,WMpdzB,MACIvE,GAAAyB,EAAAC,cAAA,WACI1B,EAAAyB,EAAAC,cAAA,OAAKiD,UAAW+F,EAAAjJ,EAAMhE,QAAtB,mCAGAuC,EAAAyB,EAAAC,cAAA,OAAKiD,UAAW+F,EAAAjJ,EAAM/D,QAASqE,KAAKO,MAAM5E,QAC1CsC,EAAAyB,EAAAC,cAACiJ,EAAD,KACK5I,KAAKO,MAAMqJ,YACZ3L,EAAAyB,EAAAC,cAAA,OACIiD,UAAW+F,EAAAjJ,EAAM9D,UACjBoP,YAAahL,KAAK6J,iBAFtB,YAOC7J,KAAKO,MAAM4I,eACZlL,EAAAyB,EAAAC,cAAA,OAAKiD,UAAW+F,EAAAjJ,EAAM9D,WAAtB,iBNseTyM,GMxmB4BrK,EAAA,WNymBcH,EMpmB1C2F,cACHd,OAAQ+F,EAAA/I,EAAEuL,KACVtI,aAAc,INqmBnB9C,IAKGqL,KACA,SAAU1P,EAAQa,EAAqBP,GAE7C,YACqB,IAAIkC,GAAsClC,EAAoB,QAC1DmC,EAA8CnC,EAAoBoC,EAAEF,GACpEmN,EAA2CrP,EAAoB,QAIpF2D,EO/nBAxB,EAAAyB,EAAAC,cAACwL,EAAA,EAAD,MADEC,EAAM,iBAAA3L,GAIZpD,GAAA,KPsoBMgP,KACA,SAAU7P,EAAQC,KAMlB6P,KACA,SAAU9P,EAAQa,EAAqBP,GAE7C,YACAoB,QAAOqO,eAAelP,EAAqB,cAAgBgB,OAAO,GAC7C,IAAIW,GAAsClC,EAAoB,QAC1DmC,EAA8CnC,EAAoBoC,EAAEF,GACpEsK,EAA0CxM,EAAoB,QAE9D0P,GADkD1P,EAAoBoC,EAAEoK,GAC7BxM,EAAoB,SAE/D2P,GADmD3P,EAAoBoC,EAAEsN,GACzB1P,EAAoB,QQzpB7FoB,QAAAoL,EAAA,QAAOrK,EAAAyB,EAAAC,cAAC8L,EAAA,EAAD,MAAStH,SAASuH,cAAc,URoqBjCC,KACA,SAAUnQ,EAAQa,EAAqBP,GAE7C,YAC+BA,GAAoB6B,EAAEtB,EAAqB,IAAK,WAAa,MAAOuP,KACpE9P,EAAoB6B,EAAEtB,EAAqB,IAAK,WAAa,MAAOwP,KACpE/P,EAAoB6B,EAAEtB,EAAqB,IAAK,WAAa,MAAOyP,IACnG,IAAIC,GAAWC,EAAQC,EAAOC,ESjrBjBN,GACT/K,WAAY,aACZD,MAAO,QACPqB,MAAO,QACPH,OAAQ,SACRqK,QAAS,UACTjK,OAAQ,SACRC,MAAO,SAGE0J,GACT,WACA,aACA,kBAGSC,GACTrI,iBACKmI,EAAI/K,YAAa,EADtBkL,EAEKH,EAAIhL,OAAQ,IAFjBmL,EAGKH,EAAI3J,OAAQ,GAHjB8J,EAIKH,EAAI1J,QAAS,EAJlB6J,EAKKH,EAAIzJ,OAAQ,IALjB4J,GAOAK,cACKR,EAAI/K,YAAa,EADtBmL,EAEKJ,EAAIhL,OAAQ,IAFjBoL,EAGKJ,EAAI3J,OAAQ,EAHjB+J,EAIKJ,EAAI1J,QAAS,EAJlB8J,GAMAK,aACKT,EAAI/K,YAAa,EADtBoL,EAEKL,EAAIhL,OAAQ,IAFjBqL,EAGKL,EAAI3J,OAAQ,GAHjBgK,EAIKL,EAAI1J,QAAS,EAJlB+J,EAKKL,EAAIzJ,OAAQ,IALjB8J,GAOAK,cACKV,EAAI/K,YAAa,EADtBqL,EAEKN,EAAIhL,OAAQ,IAFjBsL,EAGKN,EAAI3J,OAAQ,GAHjBiK,EAIKN,EAAI1J,QAAS,EAJlBgK,EAKKN,EAAIzJ,OAAQ,IALjB+J,OTmqBD","file":"app.3072fa4b.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"/cxq\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"header\":\"DropImage__header__2YUYx\",\"output\":\"DropImage__output__1uOel\",\"bodyHover\":\"DropImage__bodyHover__37F_0\"};\n\n/***/ }),\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"+prg\");\nmodule.exports = __webpack_require__(\"lVK7\");\n\n\n/***/ }),\n\n/***/ \"4t6j\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"setters\":\"RGBFilter__setters__2f98E\",\"controls\":\"RGBFilter__controls__szD2O\",\"samples\":\"RGBFilter__samples__19lc7\",\"animation\":\"RGBFilter__animation__PJCcE\"};\n\n/***/ }),\n\n/***/ \"CVAh\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return RGBFilter; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"GiK3\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_state_control__ = __webpack_require__(\"RjKN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__DropImage__ = __webpack_require__(\"P7XT\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__constants__ = __webpack_require__(\"oiih\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils__ = __webpack_require__(\"L/hj\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__image_processing__ = __webpack_require__(\"EbHr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__RGBFilter_css__ = __webpack_require__(\"4t6j\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__RGBFilter_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__RGBFilter_css__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _class, _temp2, _extends2;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\nvar cache = void 0;\n\nvar getSrc = function getSrc(name) {\n    return './images/' + name;\n};\nvar throbber = getSrc('triangles.svg');\n\nvar _ref = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n    'p',\n    null,\n    'Or select one of samples:'\n);\n\nvar RGBFilter = (_temp2 = _class = function (_Component) {\n    _inherits(RGBFilter, _Component);\n\n    function RGBFilter() {\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, RGBFilter);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = _extends({}, _this.props), _this.getDivider = function () {\n            var _this$state = _this.state,\n                image = _this$state.image,\n                limit = _this$state.limit,\n                multiplier = _this$state.multiplier;\n\n            var maxSize = Math.max(image.width, image.height);\n            var realLimit = limit / multiplier / 3;\n\n            return maxSize / realLimit;\n        }, _this.setImage = function (blob) {\n            _this.image.src = window.URL.createObjectURL(blob);\n        }, _this.handleDrop = function (image) {\n            _this.setState({ image: image });\n        }, _this.handleChange = function (name, value) {\n            var _this$setState;\n\n            _this.setState((_this$setState = {}, _this$setState[name] = Math.round((__WEBPACK_IMPORTED_MODULE_5__utils__[\"a\" /* PROCESSORS */][name] || __WEBPACK_IMPORTED_MODULE_5__utils__[\"b\" /* transparent */])(value)), _this$setState));\n        }, _this.selectImage = function (sample) {\n            return function () {\n                _this.setState({ sample: sample });\n            };\n        }, _this.processImage = function () {\n            var _this$state2 = _this.state,\n                image = _this$state2.image,\n                noise = _this$state2.noise,\n                frames = _this$state2.frames,\n                delay = _this$state2.delay,\n                multiplier = _this$state2.multiplier;\n\n            if (!image) {\n                return;\n            }\n\n            var newCache = { image: image.src, divider: _this.getDivider(), noise: noise, frames: frames, delay: delay, multiplier: multiplier };\n\n            if (__WEBPACK_IMPORTED_MODULE_2_lodash___default.a.isEqual(cache, newCache)) {\n                return;\n            }\n\n            _this.image.src = throbber;\n            cache = newCache;\n\n            Object(__WEBPACK_IMPORTED_MODULE_6__image_processing__[\"a\" /* toRGB */])(image, {\n                divider: _this.getDivider(),\n                noise: _this.state.noise,\n                frames: _this.state.frames,\n                delay: _this.state.delay,\n                multiplier: _this.state.multiplier,\n                getBlob: _this.setImage\n            });\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    RGBFilter.prototype.render = function render() {\n        var _this2 = this;\n\n        this.processImage();\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__DropImage__[\"a\" /* default */], {\n                onDrop: this.handleDrop,\n                defaultImage: getSrc(this.state.sample)\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { className: __WEBPACK_IMPORTED_MODULE_7__RGBFilter_css___default.a.controls },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_1_state_control__[\"a\" /* Connector */],\n                    {\n                        state: this.state,\n                        onChange: this.handleChange,\n                        type: 'number'\n                    },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_state_control__[\"b\" /* Input */], {\n                        id: __WEBPACK_IMPORTED_MODULE_4__constants__[\"a\" /* IDS */].multiplier,\n                        label: 'Zoom in result:'\n                    }),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_state_control__[\"b\" /* Input */], {\n                        id: __WEBPACK_IMPORTED_MODULE_4__constants__[\"a\" /* IDS */].limit,\n                        label: 'Size:',\n                        step: 100\n                    }),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_state_control__[\"b\" /* Input */], {\n                        id: __WEBPACK_IMPORTED_MODULE_4__constants__[\"a\" /* IDS */].noise,\n                        label: 'Color noise:',\n                        step: 5\n                    }),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_state_control__[\"b\" /* Input */], {\n                        id: __WEBPACK_IMPORTED_MODULE_4__constants__[\"a\" /* IDS */].frames,\n                        label: 'Frames:',\n                        step: 1\n                    }),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_state_control__[\"b\" /* Input */], {\n                        id: __WEBPACK_IMPORTED_MODULE_4__constants__[\"a\" /* IDS */].delay,\n                        label: 'Delay:',\n                        step: 50\n                    })\n                )\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { className: __WEBPACK_IMPORTED_MODULE_7__RGBFilter_css___default.a.samples },\n                _ref,\n                __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.map(__WEBPACK_IMPORTED_MODULE_4__constants__[\"b\" /* IMAGES */], function (image) {\n                    return (\n                        // eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions,jsx-a11y/click-events-have-key-events\n                        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('img', {\n                            key: image,\n                            src: getSrc(image),\n                            onClick: _this2.selectImage(image),\n                            alt: ''\n                        })\n                    );\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_state_control__[\"c\" /* SettersBlock */], {\n                    className: __WEBPACK_IMPORTED_MODULE_7__RGBFilter_css___default.a.setters,\n                    setters: __WEBPACK_IMPORTED_MODULE_4__constants__[\"c\" /* SETTERS */],\n                    setHandler: this.handleChange\n                })\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { className: __WEBPACK_IMPORTED_MODULE_7__RGBFilter_css___default.a.animation },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('img', {\n                    ref: function ref(e) {\n                        _this2.image = e;\n                    },\n                    alt: ''\n                })\n            )\n        );\n    };\n\n    return RGBFilter;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]), _class.defaultProps = _extends({}, __WEBPACK_IMPORTED_MODULE_4__constants__[\"c\" /* SETTERS */].Animated, (_extends2 = {}, _extends2[__WEBPACK_IMPORTED_MODULE_4__constants__[\"a\" /* IDS */].sample] = __WEBPACK_IMPORTED_MODULE_4__constants__[\"b\" /* IMAGES */][0], _extends2)), _temp2);\n\n\n/***/ }),\n\n/***/ \"EbHr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return toRGB; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_gif_js__ = __webpack_require__(\"eJS1\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_gif_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_gif_js__);\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\nvar SHADOW = 'SHADOW';\nvar SCALED = 'SCALED';\n\nvar offScreenCanvas = [];\nvar offScreenContext = [];\n\nfunction getCanvas() {\n    var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : SHADOW;\n\n    if (!offScreenCanvas[id]) {\n        offScreenCanvas[id] = document.createElement('canvas');\n    }\n\n    return offScreenCanvas[id];\n}\n\nfunction getContext() {\n    var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : SHADOW;\n\n    if (!offScreenContext[id]) {\n        offScreenContext[id] = getCanvas(id).getContext('2d');\n    }\n\n    return offScreenContext[id];\n}\n\nvar getDeviation = function getDeviation(d) {\n    return Math.random() * d;\n};\n\nvar triple = function triple(c) {\n    return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.concat(c, c, c);\n};\n\nfunction reduceImage(image, _ref) {\n    var divider = _ref.divider,\n        options = _objectWithoutProperties(_ref, ['divider']);\n\n    var width = image.width / divider;\n    var height = image.height / divider;\n\n    getCanvas().width = width;\n    getCanvas().height = height;\n    getContext().drawImage(image, 0, 0, width, height);\n\n    if (getCanvas().width < 1 || getCanvas().height < 1) {\n        return {};\n    }\n\n    return {\n        data: getContext().getImageData(0, 0, width, height),\n        options: options\n    };\n}\n\nfunction mapToRGB(_ref2) {\n    var _ref2$data = _ref2.data,\n        data = _ref2$data.data,\n        width = _ref2$data.width,\n        height = _ref2$data.height,\n        options = _ref2.options;\n\n    var mapRGB = [];\n\n    for (var y = 0; y < height; y += 1) {\n        for (var x = 0; x < width; x += 1) {\n            var index = (y * width + x) * 4;\n\n            var _$slice = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.slice(data, index, index + 3),\n                r = _$slice[0],\n                g = _$slice[1],\n                b = _$slice[2];\n\n            __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.set(mapRGB, [x, y], { r: r, g: g, b: b });\n        }\n    }\n\n    return { mapRGB: mapRGB, options: options };\n}\n\nfunction makeItRGB(_ref3) {\n    var mapRGB = _ref3.mapRGB,\n        _ref3$options = _ref3.options,\n        initNoise = _ref3$options.noise,\n        frames = _ref3$options.frames,\n        multiplier = _ref3$options.multiplier,\n        _ref3$options$imageSm = _ref3$options.imageSmoothingEnabled,\n        imageSmoothingEnabled = _ref3$options$imageSm === undefined ? false : _ref3$options$imageSm,\n        delay = _ref3$options.delay,\n        getBlob = _ref3$options.getBlob;\n\n    var noise = initNoise / 100 * 255;\n    var width = mapRGB.length;\n    if (width === 0) {\n        return;\n    }\n    var height = mapRGB[0].length;\n    var newWidth = width * 3;\n    var newHeight = height * 3;\n\n    getCanvas().width = newWidth;\n    getCanvas().height = newHeight;\n\n    var gif = new __WEBPACK_IMPORTED_MODULE_1_gif_js___default.a({\n        workers: 2,\n        quality: 10,\n        workerScript: './utils/gif.worker.js'\n    });\n\n    for (var i = 0; i < frames; i += 1) {\n        var imageData = getContext().getImageData(0, 0, newWidth, newHeight);\n        var data = imageData.data;\n\n\n        for (var y = 0; y < height; y += 1) {\n            var redLine = [];\n            var greenLine = [];\n            var blueLine = [];\n\n            for (var x = 0; x < width; x += 1) {\n                var _mapRGB$x$y = mapRGB[x][y],\n                    r = _mapRGB$x$y.r,\n                    g = _mapRGB$x$y.g,\n                    b = _mapRGB$x$y.b;\n\n\n                r += getDeviation(noise);\n                g += getDeviation(noise);\n                b += getDeviation(noise);\n\n                var red = [r, 0, 0, 255];\n                var green = [0, g, 0, 255];\n                var blue = [0, 0, b, 255];\n\n                redLine = redLine.concat(triple(red));\n                greenLine = greenLine.concat(triple(green));\n                blueLine = blueLine.concat(triple(blue));\n            }\n\n            data.set(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.concat(redLine, greenLine, blueLine), y * width * 3 * 4 * 3);\n        }\n\n        getContext().putImageData(imageData, 0, 0);\n\n        getCanvas(SCALED).width = getCanvas().width * multiplier;\n        getCanvas(SCALED).height = getCanvas().height * multiplier;\n\n        getContext(SCALED).imageSmoothingEnabled = imageSmoothingEnabled;\n        getContext(SCALED).msImageSmoothingEnabled = imageSmoothingEnabled;\n        getContext(SCALED).mozImageSmoothingEnabled = imageSmoothingEnabled;\n\n        getContext(SCALED).scale(multiplier, multiplier);\n        getContext(SCALED).drawImage(getCanvas(), 0, 0);\n\n        gif.addFrame(getCanvas(SCALED), {\n            delay: delay,\n            copy: true\n        });\n    }\n\n    gif.on('finished', getBlob);\n\n    gif.render();\n}\n\nvar toRGB = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.flow([reduceImage, mapToRGB, makeItRGB]);\n\n/***/ }),\n\n/***/ \"L/hj\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PROCESSORS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return transparent; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__constants__ = __webpack_require__(\"oiih\");\nvar _PROCESSORS;\n\n\n\nvar PROCESSORS = (_PROCESSORS = {}, _PROCESSORS[__WEBPACK_IMPORTED_MODULE_0__constants__[\"a\" /* IDS */].multiplier] = function (value) {\n    return Math.min(Math.max(value, 1), 16);\n}, _PROCESSORS[__WEBPACK_IMPORTED_MODULE_0__constants__[\"a\" /* IDS */].limit] = function (value) {\n    return Math.min(Math.max(value, 1), 1000);\n}, _PROCESSORS[__WEBPACK_IMPORTED_MODULE_0__constants__[\"a\" /* IDS */].noise] = function (value) {\n    return Math.min(Math.max(value, 0), 100);\n}, _PROCESSORS[__WEBPACK_IMPORTED_MODULE_0__constants__[\"a\" /* IDS */].frames] = function (value) {\n    return Math.min(Math.max(value, 1), 10);\n}, _PROCESSORS);\n\nvar transparent = function transparent(value) {\n    return value;\n};\n\n/***/ }),\n\n/***/ \"P7XT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DropImage; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"GiK3\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom__ = __webpack_require__(\"O27J\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_prop_types__ = __webpack_require__(\"KSGD\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__DropImage_css__ = __webpack_require__(\"/cxq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__DropImage_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__DropImage_css__);\nvar _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\nvar BodyPortal = function BodyPortal(_ref) {\n    var children = _ref.children;\n    return Object(__WEBPACK_IMPORTED_MODULE_1_react_dom__[\"createPortal\"])(children, document.body);\n};\n\nvar DropImage = (_temp = _class = function (_Component) {\n    _inherits(DropImage, _Component);\n\n    function DropImage(props) {\n        _classCallCheck(this, DropImage);\n\n        var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n        _this.onFileLoad = function (_ref2) {\n            var target = _ref2.target;\n\n            _this.img.src = target.result;\n        };\n\n        _this.onError = function () {\n            _this.setState({\n                isFileLoading: false,\n                output: 'Try another image, please. If this is an image from other website try to save it locally before dragging.'\n            });\n        };\n\n        _this.onImageLoad = function (_ref3) {\n            var target = _ref3.target;\n\n            _this.setState({\n                isFileLoading: false\n            });\n            _this.props.onDrop(target);\n        };\n\n        _this.handleDragOver = function (evt) {\n            var dataTransfer = evt.dataTransfer;\n\n            dataTransfer.dropEffect = 'copy'; // explicitly show this is a copy\n            evt.stopPropagation();\n            evt.preventDefault();\n        };\n\n        _this.handleDragEnter = function () {\n            _this.setState({\n                isDragOver: true\n            });\n        };\n\n        _this.handleDragLeave = function () {\n            _this.setState({\n                isDragOver: false\n            });\n        };\n\n        _this.handleFileSelect = function (evt) {\n            _this.setState({\n                isDragOver: false,\n                isFileLoading: true\n            });\n\n            evt.stopPropagation();\n            evt.preventDefault();\n\n            var files = evt.dataTransfer.files;\n\n            var link = evt.dataTransfer.getData('text');\n\n            var output = void 0;\n\n            if (__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.isEmpty(files) && evt.dataTransfer.getData('text')) {\n                output = '';\n                _this.img.src = link;\n            } else {\n                output = __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.map(files, function (f) {\n                    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'li',\n                        { key: f.name },\n                        f.name + ' (' + (f.type || 'n/a') + ') - ' + f.size + ' bytes'\n                    );\n                });\n            }\n\n            try {\n                _this.file.readAsDataURL(files[0]);\n            } catch (e) {\n                _this.onError(e);\n            }\n\n            _this.setState({ output: output });\n        };\n\n        _this.state = {\n            output: '',\n            isDragOver: false,\n            isFileLoading: false\n        };\n\n        _this.file = new FileReader();\n        _this.file.onload = _this.onFileLoad;\n        _this.file.onerror = _this.onError;\n\n        _this.img = new Image();\n        _this.img.onload = _this.onImageLoad;\n        _this.img.onerror = _this.onError;\n        _this.img.src = _this.props.defaultImage;\n        _this.img.crossOrigin = 'Anonymous';\n        return _this;\n    }\n\n    DropImage.prototype.componentDidMount = function componentDidMount() {\n        document.addEventListener('dragover', this.handleDragOver);\n        document.addEventListener('dragenter', this.handleDragEnter);\n        document.addEventListener('drop', this.handleFileSelect);\n    };\n\n    DropImage.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n        if (!__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.isEqual(this.props.defaultImage, nextProps.defaultImage)) {\n            this.img.src = nextProps.defaultImage;\n        }\n    };\n\n    DropImage.prototype.render = function render() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { className: __WEBPACK_IMPORTED_MODULE_4__DropImage_css___default.a.header },\n                'Drop image anywhere on the page'\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { className: __WEBPACK_IMPORTED_MODULE_4__DropImage_css___default.a.output },\n                this.state.output\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                BodyPortal,\n                null,\n                this.state.isDragOver && __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    {\n                        className: __WEBPACK_IMPORTED_MODULE_4__DropImage_css___default.a.bodyHover,\n                        onDragLeave: this.handleDragLeave\n                    },\n                    'Drop it!'\n                ),\n                this.state.isFileLoading && __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { className: __WEBPACK_IMPORTED_MODULE_4__DropImage_css___default.a.bodyHover },\n                    'Loading...'\n                )\n            )\n        );\n    };\n\n    return DropImage;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]), _class.defaultProps = {\n    onDrop: __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.noop,\n    defaultImage: ''\n}, _temp);\n\n\n/***/ }),\n\n/***/ \"YO0e\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"GiK3\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__RGBFilter__ = __webpack_require__(\"CVAh\");\n\n\n\nvar _ref = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1__RGBFilter__[\"a\" /* default */], null);\n\nvar App = function App() {\n    return _ref;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (App);\n\n/***/ }),\n\n/***/ \"cilB\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"lVK7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"GiK3\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom__ = __webpack_require__(\"O27J\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__index_css__ = __webpack_require__(\"cilB\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__index_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__index_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_App__ = __webpack_require__(\"YO0e\");\n\n\n\n\n\n\nObject(__WEBPACK_IMPORTED_MODULE_1_react_dom__[\"render\"])(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__components_App__[\"a\" /* default */], null), document.querySelector('#app'));\n\n/***/ }),\n\n/***/ \"oiih\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return IDS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return IMAGES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return SETTERS; });\nvar _Animated, _Still, _Slow, _Sharp;\n\nvar IDS = {\n    multiplier: 'multiplier',\n    limit: 'limit',\n    noise: 'noise',\n    sample: 'sample',\n    animate: 'animate',\n    frames: 'frames',\n    delay: 'delay'\n};\n\nvar IMAGES = ['moon.jpg', 'sunset.jpg', 'wikipe-tan.png'];\n\nvar SETTERS = {\n    Animated: (_Animated = {}, _Animated[IDS.multiplier] = 2, _Animated[IDS.limit] = 400, _Animated[IDS.noise] = 10, _Animated[IDS.frames] = 5, _Animated[IDS.delay] = 200, _Animated),\n    Still: (_Still = {}, _Still[IDS.multiplier] = 3, _Still[IDS.limit] = 800, _Still[IDS.noise] = 0, _Still[IDS.frames] = 1, _Still),\n    Slow: (_Slow = {}, _Slow[IDS.multiplier] = 2, _Slow[IDS.limit] = 400, _Slow[IDS.noise] = 20, _Slow[IDS.frames] = 2, _Slow[IDS.delay] = 800, _Slow),\n    Sharp: (_Sharp = {}, _Sharp[IDS.multiplier] = 1, _Sharp[IDS.limit] = 500, _Sharp[IDS.noise] = 10, _Sharp[IDS.frames] = 3, _Sharp[IDS.delay] = 200, _Sharp)\n};\n\n/***/ })\n\n},[0]);\n\n\n// WEBPACK FOOTER //\n// app.3072fa4b.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"header\":\"DropImage__header__2YUYx\",\"output\":\"DropImage__output__1uOel\",\"bodyHover\":\"DropImage__bodyHover__37F_0\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/DropImage.css\n// module id = /cxq\n// module chunks = 1","// removed by extract-text-webpack-plugin\nmodule.exports = {\"setters\":\"RGBFilter__setters__2f98E\",\"controls\":\"RGBFilter__controls__szD2O\",\"samples\":\"RGBFilter__samples__19lc7\",\"animation\":\"RGBFilter__animation__PJCcE\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/RGBFilter.css\n// module id = 4t6j\n// module chunks = 1","import React, { Component } from 'react'\nimport { Connector, Input, SettersBlock } from 'state-control'\nimport _ from 'lodash'\nimport DragAndDrop from './DropImage'\nimport { IDS, IMAGES, SETTERS } from '../constants'\nimport { PROCESSORS, transparent } from '../utils'\nimport { toRGB } from '../image-processing'\nimport style from './RGBFilter.css'\n\nlet cache\n\nconst getSrc = (name) => `./images/${name}`\nconst throbber = getSrc('triangles.svg')\n\nexport default class RGBFilter extends Component {\n    static defaultProps = {\n        ...SETTERS.Animated,\n        [IDS.sample]: IMAGES[0],\n    }\n\n    state = {\n        ...this.props,\n    }\n\n    getDivider = () => {\n        const { image, limit, multiplier } = this.state\n        const maxSize = Math.max(image.width, image.height)\n        const realLimit = limit / multiplier / 3\n\n        return maxSize / realLimit\n    }\n\n    setImage = (blob) => {\n        this.image.src = window.URL.createObjectURL(blob)\n    }\n\n    handleDrop = (image) => {\n        this.setState({ image })\n    }\n\n    handleChange = (name, value) => {\n        this.setState({\n            [name]: Math.round((PROCESSORS[name] || transparent)(value)),\n        })\n    }\n\n    selectImage = (sample) => () => {\n        this.setState({ sample })\n    }\n\n    processImage = () => {\n        const { image, noise, frames, delay, multiplier } = this.state\n        if (!image) {\n            return\n        }\n\n        const newCache = { image: image.src, divider: this.getDivider(), noise, frames, delay, multiplier }\n\n        if (_.isEqual(cache, newCache)) {\n            return\n        }\n\n        this.image.src = throbber\n        cache = newCache\n\n        toRGB(image, {\n            divider: this.getDivider(),\n            noise: this.state.noise,\n            frames: this.state.frames,\n            delay: this.state.delay,\n            multiplier: this.state.multiplier,\n            getBlob: this.setImage,\n        })\n    }\n\n    render () {\n        this.processImage()\n\n        return (\n            <div>\n                <DragAndDrop\n                    onDrop={this.handleDrop}\n                    defaultImage={getSrc(this.state.sample)}\n                />\n                <div className={style.controls}>\n                    <Connector\n                        state={this.state}\n                        onChange={this.handleChange}\n                        type=\"number\"\n                    >\n                        <Input\n                            id={IDS.multiplier}\n                            label=\"Zoom in result:\"\n                        />\n                        <Input\n                            id={IDS.limit}\n                            label=\"Size:\"\n                            step={100}\n                        />\n                        <Input\n                            id={IDS.noise}\n                            label=\"Color noise:\"\n                            step={5}\n                        />\n                        <Input\n                            id={IDS.frames}\n                            label=\"Frames:\"\n                            step={1}\n                        />\n                        <Input\n                            id={IDS.delay}\n                            label=\"Delay:\"\n                            step={50}\n                        />\n                    </Connector>\n                </div>\n                <div className={style.samples}>\n                    <p>Or select one of samples:</p>\n                    {_.map(IMAGES, (image) => (\n                        // eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions,jsx-a11y/click-events-have-key-events\n                        <img\n                            key={image}\n                            src={getSrc(image)}\n                            onClick={this.selectImage(image)}\n                            alt=\"\"\n                        />\n                    ))}\n                    <SettersBlock\n                        className={style.setters}\n                        setters={SETTERS}\n                        setHandler={this.handleChange}\n                    />\n                </div>\n                <div className={style.animation}>\n                    <img\n                        ref={(e) => { this.image = e }}\n                        alt=\"\"\n                    />\n                </div>\n            </div>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/RGBFilter.jsx","import _ from 'lodash'\nimport GIF from 'gif.js'\n\nconst SHADOW = 'SHADOW'\nconst SCALED = 'SCALED'\n\nconst offScreenCanvas = []\nconst offScreenContext = []\n\nfunction getCanvas (id = SHADOW) {\n    if (!offScreenCanvas[id]) {\n        offScreenCanvas[id] = document.createElement('canvas')\n    }\n\n    return offScreenCanvas[id]\n}\n\nfunction getContext (id = SHADOW) {\n    if (!offScreenContext[id]) {\n        offScreenContext[id] = getCanvas(id).getContext('2d')\n    }\n\n    return offScreenContext[id]\n}\n\nconst getDeviation = (d) => Math.random() * d\n\nconst triple = (c) => _.concat(c, c, c)\n\nfunction reduceImage (image, { divider, ...options }) {\n    const width = image.width / divider\n    const height = image.height / divider\n\n    getCanvas().width = width\n    getCanvas().height = height\n    getContext().drawImage(image, 0, 0, width, height)\n\n    if (getCanvas().width < 1 || getCanvas().height < 1) {\n        return {}\n    }\n\n    return {\n        data: getContext().getImageData(0, 0, width, height),\n        options,\n    }\n}\n\nfunction mapToRGB ({ data: { data, width, height }, options }) {\n    const mapRGB = []\n\n    for (let y = 0; y < height; y += 1) {\n        for (let x = 0; x < width; x += 1) {\n            const index = ((y * width) + x) * 4\n            const [r, g, b] = _.slice(data, index, index + 3)\n\n            _.set(mapRGB, [x, y], { r, g, b })\n        }\n    }\n\n    return { mapRGB, options }\n}\n\nfunction makeItRGB ({\n    mapRGB,\n    options: {\n        noise: initNoise,\n        frames,\n        multiplier,\n        imageSmoothingEnabled = false,\n        delay,\n        getBlob,\n    },\n}) {\n    const noise = (initNoise / 100) * 255\n    const width = mapRGB.length\n    if (width === 0) {\n        return\n    }\n    const height = mapRGB[0].length\n    const newWidth = width * 3\n    const newHeight = height * 3\n\n    getCanvas().width = newWidth\n    getCanvas().height = newHeight\n\n    const gif = new GIF({\n        workers: 2,\n        quality: 10,\n        workerScript: './utils/gif.worker.js',\n    })\n\n    for (let i = 0; i < frames; i += 1) {\n        const imageData = getContext().getImageData(0, 0, newWidth, newHeight)\n        const { data } = imageData\n\n        for (let y = 0; y < height; y += 1) {\n            let redLine = []\n            let greenLine = []\n            let blueLine = []\n\n            for (let x = 0; x < width; x += 1) {\n                let { r, g, b } = mapRGB[x][y]\n\n                r += getDeviation(noise)\n                g += getDeviation(noise)\n                b += getDeviation(noise)\n\n                const red = [r, 0, 0, 255]\n                const green = [0, g, 0, 255]\n                const blue = [0, 0, b, 255]\n\n                redLine = redLine.concat(triple(red))\n                greenLine = greenLine.concat(triple(green))\n                blueLine = blueLine.concat(triple(blue))\n            }\n\n            data.set(_.concat(redLine, greenLine, blueLine), (y * width * 3) * 4 * 3)\n        }\n\n        getContext().putImageData(imageData, 0, 0)\n\n        getCanvas(SCALED).width = getCanvas().width * multiplier\n        getCanvas(SCALED).height = getCanvas().height * multiplier\n\n        getContext(SCALED).imageSmoothingEnabled = imageSmoothingEnabled\n        getContext(SCALED).msImageSmoothingEnabled = imageSmoothingEnabled\n        getContext(SCALED).mozImageSmoothingEnabled = imageSmoothingEnabled\n\n        getContext(SCALED).scale(multiplier, multiplier)\n        getContext(SCALED).drawImage(getCanvas(), 0, 0)\n\n        gif.addFrame(getCanvas(SCALED), {\n            delay,\n            copy: true,\n        })\n    }\n\n    gif.on('finished', getBlob)\n\n    gif.render()\n}\n\nexport const toRGB = _.flow([reduceImage, mapToRGB, makeItRGB])\n\n\n\n// WEBPACK FOOTER //\n// ./src/image-processing.js","import { IDS } from './constants'\n\nexport const PROCESSORS = {\n    [IDS.multiplier]: (value) => Math.min(Math.max(value, 1), 16),\n    [IDS.limit]: (value) => Math.min(Math.max(value, 1), 1000),\n    [IDS.noise]: (value) => Math.min(Math.max(value, 0), 100),\n    [IDS.frames]: (value) => Math.min(Math.max(value, 1), 10),\n}\n\nexport const transparent = (value) => value\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","import React, { Component } from 'react'\r\nimport { createPortal } from 'react-dom'\r\nimport PropTypes from 'prop-types'\r\nimport _ from 'lodash'\r\nimport style from './DropImage.css'\r\n\r\nconst BodyPortal = ({ children }) => createPortal(children, document.body)\r\n\r\nexport default class DropImage extends Component {\r\n    static propTypes = {\r\n        onDrop: PropTypes.func,\r\n        defaultImage: PropTypes.string,\r\n    }\r\n    static defaultProps = {\r\n        onDrop: _.noop,\r\n        defaultImage: '',\r\n    }\r\n\r\n    constructor (props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            output: '',\r\n            isDragOver: false,\r\n            isFileLoading: false,\r\n        }\r\n\r\n        this.file = new FileReader()\r\n        this.file.onload = this.onFileLoad\r\n        this.file.onerror = this.onError\r\n\r\n        this.img = new Image()\r\n        this.img.onload = this.onImageLoad\r\n        this.img.onerror = this.onError\r\n        this.img.src = this.props.defaultImage\r\n        this.img.crossOrigin = 'Anonymous'\r\n    }\r\n\r\n    componentDidMount () {\r\n        document.addEventListener('dragover', this.handleDragOver)\r\n        document.addEventListener('dragenter', this.handleDragEnter)\r\n        document.addEventListener('drop', this.handleFileSelect)\r\n    }\r\n\r\n    componentWillReceiveProps (nextProps) {\r\n        if (!_.isEqual(this.props.defaultImage, nextProps.defaultImage)) {\r\n            this.img.src = nextProps.defaultImage\r\n        }\r\n    }\r\n\r\n    onFileLoad = ({ target }) => {\r\n        this.img.src = target.result\r\n    }\r\n\r\n    onError = () => {\r\n        this.setState({\r\n            isFileLoading: false,\r\n            output: 'Try another image, please. If this is an image from other website try to save it locally before dragging.',\r\n        })\r\n    }\r\n\r\n    onImageLoad = ({ target }) => {\r\n        this.setState({\r\n            isFileLoading: false,\r\n        })\r\n        this.props.onDrop(target)\r\n    }\r\n\r\n    handleDragOver = (evt) => {\r\n        const { dataTransfer } = evt\r\n        dataTransfer.dropEffect = 'copy' // explicitly show this is a copy\r\n        evt.stopPropagation()\r\n        evt.preventDefault()\r\n    }\r\n\r\n    handleDragEnter = () => {\r\n        this.setState({\r\n            isDragOver: true,\r\n        })\r\n    }\r\n\r\n    handleDragLeave = () => {\r\n        this.setState({\r\n            isDragOver: false,\r\n        })\r\n    }\r\n\r\n    handleFileSelect = (evt) => {\r\n        this.setState({\r\n            isDragOver: false,\r\n            isFileLoading: true,\r\n        })\r\n\r\n        evt.stopPropagation()\r\n        evt.preventDefault()\r\n\r\n        const { files } = evt.dataTransfer\r\n        const link = evt.dataTransfer.getData('text')\r\n\r\n        let output\r\n\r\n        if (_.isEmpty(files) && evt.dataTransfer.getData('text')) {\r\n            output = ''\r\n            this.img.src = link\r\n        } else {\r\n            output = _.map(files, (f) => (\r\n                <li key={f.name}>\r\n                    {`${f.name} (${f.type || 'n/a'}) - ${f.size} bytes`}\r\n                </li>\r\n            ))\r\n        }\r\n\r\n        try {\r\n            this.file.readAsDataURL(files[0])\r\n        } catch (e) {\r\n            this.onError(e)\r\n        }\r\n\r\n        this.setState({ output })\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div>\r\n                <div className={style.header}>\r\n                    Drop image anywhere on the page\r\n                </div>\r\n                <div className={style.output}>{this.state.output}</div>\r\n                <BodyPortal>\r\n                    {this.state.isDragOver &&\r\n                    <div\r\n                        className={style.bodyHover}\r\n                        onDragLeave={this.handleDragLeave}\r\n                    >\r\n                        Drop it!\r\n                    </div>\r\n                    }\r\n                    {this.state.isFileLoading &&\r\n                    <div className={style.bodyHover}>\r\n                        Loading...\r\n                    </div>\r\n                    }\r\n                </BodyPortal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DropImage.jsx","import React from 'react'\nimport RGBFilter from './RGBFilter'\n\nconst App = () => (\n    <RGBFilter />\n)\n\nexport default App\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/App.jsx","import React from 'react'\nimport { render } from 'react-dom'\n\nimport './index.css'\nimport App from './components/App'\n\nrender(<App />, document.querySelector('#app'))\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","export const IDS = {\n    multiplier: 'multiplier',\n    limit: 'limit',\n    noise: 'noise',\n    sample: 'sample',\n    animate: 'animate',\n    frames: 'frames',\n    delay: 'delay',\n}\n\nexport const IMAGES = [\n    'moon.jpg',\n    'sunset.jpg',\n    'wikipe-tan.png',\n]\n\nexport const SETTERS = {\n    Animated: {\n        [IDS.multiplier]: 2,\n        [IDS.limit]: 400,\n        [IDS.noise]: 10,\n        [IDS.frames]: 5,\n        [IDS.delay]: 200,\n    },\n    Still: {\n        [IDS.multiplier]: 3,\n        [IDS.limit]: 800,\n        [IDS.noise]: 0,\n        [IDS.frames]: 1,\n    },\n    Slow: {\n        [IDS.multiplier]: 2,\n        [IDS.limit]: 400,\n        [IDS.noise]: 20,\n        [IDS.frames]: 2,\n        [IDS.delay]: 800,\n    },\n    Sharp: {\n        [IDS.multiplier]: 1,\n        [IDS.limit]: 500,\n        [IDS.noise]: 10,\n        [IDS.frames]: 3,\n        [IDS.delay]: 200,\n    },\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.js"],"sourceRoot":""}