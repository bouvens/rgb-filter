(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){a(14),e.exports=a(34)},23:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n,r,o=a(0),i=a.n(o),s=a(6),l=(a(23),a(1),a(2)),c=a.n(l),u=a(5),m=a.n(u);var f,d,p,g,h=function(e){var t=e.children;return Object(s.createPortal)(t,document.body)},v=(r=n=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return n.state={output:"",isDragOver:!1,isFileLoading:!1},n.onFileLoad=function(e){var t=e.target;n.img.src=t.result},n.onError=function(){n.setState({isFileLoading:!1,output:"Try another image, please. If this is an image from other website try to save it locally before dragging."})},n.onImageLoad=function(e){var t=e.target;n.setState({isFileLoading:!1}),n.props.onDrop(t)},n.handleDragOver=function(e){e.dataTransfer.dropEffect="copy",e.stopPropagation(),e.preventDefault()},n.handleDragEnter=function(){n.setState({isDragOver:!0})},n.handleDragLeave=function(){n.setState({isDragOver:!1})},n.readAsData=function(e){try{n.file.readAsDataURL(e)}catch(e){n.onError(e)}},n.handleFileSelect=function(e){n.setState({isDragOver:!1,isFileLoading:!0}),e.stopPropagation(),e.preventDefault();var t=e.dataTransfer.files,a=t.item(0),r=e.dataTransfer.getData("text"),o=void 0;c.a.isEmpty(t)&&e.dataTransfer.getData("text")?(o="",n.img.src=r):o=i.a.createElement("li",{key:a.name},a.name+" ("+(a.type||"n/a")+") - "+a.size+" bytes"),n.setState({output:o}),n.readAsData(a)},n.handleFile=function(e){var t=e.target.files;n.readAsData(t.item(0))},n.file=new FileReader,n.file.onload=n.onFileLoad,n.file.onerror=n.onError,n.img=new Image,n.img.onload=n.onImageLoad,n.img.onerror=n.onError,n.img.crossOrigin="Anonymous",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){document.addEventListener("dragover",this.handleDragOver),document.addEventListener("dragenter",this.handleDragEnter),document.addEventListener("drop",this.handleFileSelect)},t.prototype.render=function(){return i.a.createElement("div",null,i.a.createElement("div",{className:m.a.header},i.a.createElement("input",{type:"file",onChange:this.handleFile}),this.props.text),i.a.createElement("div",{className:m.a.output},this.state.output),i.a.createElement(h,null,this.state.isDragOver&&i.a.createElement("div",{className:m.a.bodyHover,onDragLeave:this.handleDragLeave},"Drop it!"),this.state.isFileLoading&&i.a.createElement("div",{className:m.a.bodyHover},"Loading...")))},t}(o.Component),n.defaultProps={onDrop:c.a.noop,text:"Or drag an image on the page"},r),y=a(3),b="multiplier",E="limit",w="noise",D="frames",_="delay",O=function(e){return"./images/"+e},I=O("triangles.svg"),S=["moon.jpg","sunset.jpg","wikipe-tan.png"].map(O),L={Animated:(f={},f[b]=2,f[E]=400,f[w]=10,f[D]=5,f[_]=200,f),Still:(d={},d[b]=3,d[E]=800,d[w]=0,d[D]=1,d),Slow:(p={},p[b]=2,p[E]=400,p[w]=20,p[D]=2,p[_]=800,p),Sharp:(g={},g[b]=1,g[E]=500,g[w]=10,g[D]=3,g[_]=200,g)},x=a(4),j=a.n(x),C=function(e){var t=e.state,a=e.handleChange;return i.a.createElement("div",{className:j.a.controls},i.a.createElement(y.c,{className:j.a.setters,setters:L,setHandler:a}),i.a.createElement(y.a,{state:t,onChange:a,type:"number"},i.a.createElement(y.b,{id:b,label:"Zoom in result:"}),i.a.createElement(y.b,{id:E,label:"Size:",step:100}),i.a.createElement(y.b,{id:w,label:"Color noise:",step:5}),i.a.createElement(y.b,{id:D,label:"Frames:",step:1}),t.frames>1&&i.a.createElement(y.b,{id:_,label:"Delay:",step:50})))};C.defaultProps={handleChange:c.a.noop};var F=C,P=i.a.createElement("p",null,"Or select one of samples:"),M=function(e){var t=e.selectImage;return i.a.createElement("div",{className:j.a.samples},P,S.map(function(e){return i.a.createElement("img",{key:e,src:e,onClick:t(e),alt:""})}))};M.defaultProps={selectImage:c.a.noop};var R=M,k=i.a.createElement("p",null,"Do right click on image and „Save image as...“"),A=function(e){var t=e.setImageRef;return i.a.createElement("div",{className:j.a.animation},i.a.createElement("img",{ref:t,alt:""}),k)};A.defaultProps={setImageRef:c.a.noop};var T,N=A,U=a(12),H=a.n(U),q=function(e){return new Promise(function(t){var a=new Image;a.onload=function(e){var a=e.target;t(a)},a.src=e})};var z=((T={})[b]=function(e){return Math.min(Math.max(e,1),16)},T[E]=function(e){return Math.min(Math.max(e,1),1e3)},T[w]=function(e){return Math.min(Math.max(e,0),100)},T[D]=function(e){return Math.min(Math.max(e,1),10)},T),B=function(e){return Math.random()*(e/100)*255},G=function(e){return e.concat(e,e)},J=[],Y=[],X="DEFAULT_ID";function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;return J[e]||(J[e]=document.createElement("canvas")),J[e]}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;return Y[e]||(Y[e]=Z(e).getContext("2d")),Y[e]}var Q=c.a.flow([function(e){var t=e.image,a=e.divider,n=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["image","divider"]),r=Z(),o=K(),i=t.width/a,s=t.height/a;return r.width=i,r.height=s,o.drawImage(t,0,0,i,s),Z().width<1||Z().height<1?{}:{data:o.getImageData(0,0,i,s),options:n}},function(e){for(var t=e.data,a=t.data,n=t.width,r=t.height,o=e.options,i=[],s=0;s<n;s+=1)for(var l=0;l<r;l+=1){var u=4*(l*n+s),m=a.slice(u,u+3),f=m[0],d=m[1],p=m[2];c.a.set(i,[s,l],{r:f,g:d,b:p})}return{mapRGB:i,options:o}},function(e){var t=e.mapRGB,a=e.options,n=a.noise,r=a.frames,o=a.multiplier,i=a.imageSmoothingEnabled,s=void 0!==i&&i,l=a.delay;return new Promise(function(e){var a=t.length,i=Z(),c=K();if(0!==a){var u=t[0].length,m=3*a,f=3*u;i.width=m,i.height=f;for(var d=function(e,t,a,n){return function(r){for(var o=r.data,i=0;i<a;i+=1){for(var s=[],l=[],c=[],u=0;u<t;u+=1){var m=e[u][i],f=m.r,d=m.g,p=m.b,g=[f+=B(n),0,0,255],h=[0,d+=B(n),0,255],v=[0,0,p+=B(n),255];s=s.concat(G(g)),l=l.concat(G(h)),c=c.concat(G(v))}o.set(s.concat(l,c),i*t*3*4*3)}}}(t,a,u,n),p=new H.a({workers:2,quality:10,workerScript:"./utils/gif.worker.js"}),g=0;g<r;g+=1){var h=c.getImageData(0,0,m,f);d(h),c.putImageData(h,0,0);var v=Z("SCALED");v.width=i.width*o,v.height=i.height*o;var y=K("SCALED");y.imageSmoothingEnabled=s,y.msImageSmoothingEnabled=s,y.scale(o,o),y.drawImage(i,0,0),p.addFrame(v,{delay:l,copy:!0})}p.on("finished",function(t){e(window.URL.createObjectURL(t))}),p.render()}})}]),V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function W(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var $=function(e){function t(){var a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=W(this,e.call.apply(e,[this].concat(o))),n.state=V({},L[Object.keys(L)[0]]),n.setImageRef=function(e){n.image=e},n.handleDrop=function(e){n.setState({image:e})},n.handleChange=function(e,t){var a;n.setState(((a={})[e]=Math.round((z[e]||function(e){return e})(t)),a))},n.selectImage=function(e){return function(){q(e).then(function(e){n.setState({image:e})})}},W(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.selectImage(S[0])()},t.prototype.render=function(){var e=this,t=this.state,a=t.image,n=t.limit,r=t.noise,o=t.frames,s=t.delay,l=t.multiplier;return this.image&&a&&(this.image.src=I,Q({divider:function(e){var t=e.image,a=e.limit,n=e.multiplier;return Math.max(t.width,t.height)/(a/n/3)}({image:a,limit:n,multiplier:l}),noise:r,frames:o,delay:s,multiplier:l,image:a}).then(function(t){e.image.src=t})),i.a.createElement("div",null,i.a.createElement(v,{onDrop:this.handleDrop,text:"Or drag and drop your image anywhere on the page"}),i.a.createElement(F,{state:this.state,handleChange:this.handleChange}),i.a.createElement(R,{selectImage:this.selectImage}),i.a.createElement(N,{setImageRef:this.setImageRef}))},t}(o.Component);Object(s.render)(i.a.createElement($,null),document.querySelector("#app"))},4:function(e,t,a){e.exports={setters:"style__setters__1rAxM",controls:"style__controls__3wr2f",samples:"style__samples__9Iqr3",animation:"style__animation__1UXNv"}},5:function(e,t,a){e.exports={header:"DropImage__header__2YUYx",output:"DropImage__output__1uOel",bodyHover:"DropImage__bodyHover__37F_0"}}},[[13,2,1]]]);
//# sourceMappingURL=app.75226663.js.map