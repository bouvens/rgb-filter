{"version":3,"sources":["webpack:///app.23bea47d.js","webpack:///./src/components/DropImage.css","webpack:///./src/components/RGBFilter.css","webpack:///./src/components/RGBFilter.jsx","webpack:///./src/image-processing.js","webpack:///./src/utils.js","webpack:///./src/components/DropImage.jsx","webpack:///./src/components/App.jsx","webpack:///./src/index.js","webpack:///./src/constants.js"],"names":["webpackJsonp","/cxq","module","exports","header","output","bodyHover","0","__webpack_require__","4t6j","setters","controls","samples","animation","CVAh","__webpack_exports__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","d","RGBFilter","_class","_temp2","_extends2","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_state_control__","__WEBPACK_IMPORTED_MODULE_2_lodash__","__WEBPACK_IMPORTED_MODULE_2_lodash___default","__WEBPACK_IMPORTED_MODULE_3__DropImage__","__WEBPACK_IMPORTED_MODULE_4__constants__","__WEBPACK_IMPORTED_MODULE_5__utils__","__WEBPACK_IMPORTED_MODULE_6__image_processing__","__WEBPACK_IMPORTED_MODULE_7__RGBFilter_css__","__WEBPACK_IMPORTED_MODULE_7__RGBFilter_css___default","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","cache","getSrc","name","throbber","_ref","a","createElement","_ref2","_Component","_temp","_this","_ret","this","_len","args","Array","_key","apply","concat","state","props","getDivider","_this$state","image","limit","multiplier","Math","max","width","height","setImage","blob","src","window","URL","createObjectURL","handleDrop","setState","handleChange","_this$setState","round","selectImage","sample","processImage","_this$state2","noise","frames","delay","newCache","divider","isEqual","getBlob","render","_this2","onDrop","defaultImage","text","className","setHandler","onChange","type","id","label","step","map","onClick","alt","ref","e","defaultProps","Animated","EbHr","_objectWithoutProperties","obj","keys","indexOf","getCanvas","undefined","SHADOW","offScreenCanvas","document","getContext","offScreenContext","reduceImage","options","drawImage","data","getImageData","mapToRGB","_ref2$data","mapRGB","y","x","index","_$slice","__WEBPACK_IMPORTED_MODULE_0_lodash___default","slice","r","g","b","set","makeItRGB","_ref3","_ref3$options","initNoise","_ref3$options$imageSm","imageSmoothingEnabled","newWidth","newHeight","gif","__WEBPACK_IMPORTED_MODULE_1_gif_js___default","workers","quality","workerScript","imageData","redLine","greenLine","blueLine","_mapRGB$x$y","getDeviation","red","green","blue","triple","putImageData","SCALED","msImageSmoothingEnabled","mozImageSmoothingEnabled","scale","addFrame","copy","on","toRGB","__WEBPACK_IMPORTED_MODULE_0_lodash__","__WEBPACK_IMPORTED_MODULE_1_gif_js__","random","c","flow","L/hj","PROCESSORS","transparent","_PROCESSORS","__WEBPACK_IMPORTED_MODULE_0__constants__","min","P7XT","DropImage","__WEBPACK_IMPORTED_MODULE_1_react_dom__","__WEBPACK_IMPORTED_MODULE_2_prop_types__","__WEBPACK_IMPORTED_MODULE_3_lodash__","__WEBPACK_IMPORTED_MODULE_3_lodash___default","__WEBPACK_IMPORTED_MODULE_4__DropImage_css__","__WEBPACK_IMPORTED_MODULE_4__DropImage_css___default","BodyPortal","children","body","onFileLoad","img","result","onError","isFileLoading","onImageLoad","handleDragOver","evt","dataTransfer","dropEffect","stopPropagation","preventDefault","handleDragEnter","isDragOver","handleDragLeave","readAsData","files","file","readAsDataURL","handleFileSelect","link","getData","isEmpty","f","size","handleFile","_ref4","FileReader","onload","onerror","Image","crossOrigin","componentDidMount","addEventListener","componentWillReceiveProps","nextProps","onDragLeave","noop","YO0e","__WEBPACK_IMPORTED_MODULE_1__RGBFilter__","App","cilB","lVK7","defineProperty","__WEBPACK_IMPORTED_MODULE_2__index_css__","__WEBPACK_IMPORTED_MODULE_3__components_App__","querySelector","oiih","IDS","IMAGES","SETTERS","_Animated","_Still","_Slow","_Sharp","animate","Still","Slow","Sharp"],"mappings":"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","file":"app.23bea47d.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"/cxq\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"header\":\"DropImage__header__2YUYx\",\"output\":\"DropImage__output__1uOel\",\"bodyHover\":\"DropImage__bodyHover__37F_0\"};\n\n/***/ }),\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"+prg\");\nmodule.exports = __webpack_require__(\"lVK7\");\n\n\n/***/ }),\n\n/***/ \"4t6j\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"setters\":\"RGBFilter__setters__2f98E\",\"controls\":\"RGBFilter__controls__szD2O\",\"samples\":\"RGBFilter__samples__19lc7\",\"animation\":\"RGBFilter__animation__PJCcE\"};\n\n/***/ }),\n\n/***/ \"CVAh\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return RGBFilter; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"GiK3\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_state_control__ = __webpack_require__(\"RjKN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__DropImage__ = __webpack_require__(\"P7XT\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__constants__ = __webpack_require__(\"oiih\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils__ = __webpack_require__(\"L/hj\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__image_processing__ = __webpack_require__(\"EbHr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__RGBFilter_css__ = __webpack_require__(\"4t6j\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__RGBFilter_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__RGBFilter_css__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _class, _temp2, _extends2;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\nvar cache = void 0;\n\nvar getSrc = function getSrc(name) {\n    return './images/' + name;\n};\nvar throbber = getSrc('triangles.svg');\n\nvar _ref = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n    'p',\n    null,\n    'Or select one of samples:'\n);\n\nvar _ref2 = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n    'p',\n    null,\n    'Do right click on image and \\u201ESave image as...\\u201C'\n);\n\nvar RGBFilter = (_temp2 = _class = function (_Component) {\n    _inherits(RGBFilter, _Component);\n\n    function RGBFilter() {\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, RGBFilter);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = _extends({}, _this.props), _this.getDivider = function () {\n            var _this$state = _this.state,\n                image = _this$state.image,\n                limit = _this$state.limit,\n                multiplier = _this$state.multiplier;\n\n            var maxSize = Math.max(image.width, image.height);\n            var realLimit = limit / multiplier / 3;\n\n            return maxSize / realLimit;\n        }, _this.setImage = function (blob) {\n            _this.image.src = window.URL.createObjectURL(blob);\n        }, _this.handleDrop = function (image) {\n            _this.setState({ image: image });\n        }, _this.handleChange = function (name, value) {\n            var _this$setState;\n\n            _this.setState((_this$setState = {}, _this$setState[name] = Math.round((__WEBPACK_IMPORTED_MODULE_5__utils__[\"a\" /* PROCESSORS */][name] || __WEBPACK_IMPORTED_MODULE_5__utils__[\"b\" /* transparent */])(value)), _this$setState));\n        }, _this.selectImage = function (sample) {\n            return function () {\n                _this.setState({ sample: sample });\n            };\n        }, _this.processImage = function () {\n            var _this$state2 = _this.state,\n                image = _this$state2.image,\n                noise = _this$state2.noise,\n                frames = _this$state2.frames,\n                delay = _this$state2.delay,\n                multiplier = _this$state2.multiplier;\n\n            if (!image) {\n                return;\n            }\n\n            var newCache = { image: image.src, divider: _this.getDivider(), noise: noise, frames: frames, delay: delay, multiplier: multiplier };\n\n            if (__WEBPACK_IMPORTED_MODULE_2_lodash___default.a.isEqual(cache, newCache)) {\n                return;\n            }\n\n            _this.image.src = throbber;\n            cache = newCache;\n\n            Object(__WEBPACK_IMPORTED_MODULE_6__image_processing__[\"a\" /* toRGB */])(image, {\n                divider: _this.getDivider(),\n                noise: _this.state.noise,\n                frames: _this.state.frames,\n                delay: _this.state.delay,\n                multiplier: _this.state.multiplier,\n                getBlob: _this.setImage\n            });\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    RGBFilter.prototype.render = function render() {\n        var _this2 = this;\n\n        this.processImage();\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__DropImage__[\"a\" /* default */], {\n                onDrop: this.handleDrop,\n                defaultImage: getSrc(this.state.sample),\n                text: 'Or drag and drop your image anywhere on the page'\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { className: __WEBPACK_IMPORTED_MODULE_7__RGBFilter_css___default.a.controls },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_state_control__[\"c\" /* SettersBlock */], {\n                    className: __WEBPACK_IMPORTED_MODULE_7__RGBFilter_css___default.a.setters,\n                    setters: __WEBPACK_IMPORTED_MODULE_4__constants__[\"c\" /* SETTERS */],\n                    setHandler: this.handleChange\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_1_state_control__[\"a\" /* Connector */],\n                    {\n                        state: this.state,\n                        onChange: this.handleChange,\n                        type: 'number'\n                    },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_state_control__[\"b\" /* Input */], {\n                        id: __WEBPACK_IMPORTED_MODULE_4__constants__[\"a\" /* IDS */].multiplier,\n                        label: 'Zoom in result:'\n                    }),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_state_control__[\"b\" /* Input */], {\n                        id: __WEBPACK_IMPORTED_MODULE_4__constants__[\"a\" /* IDS */].limit,\n                        label: 'Size:',\n                        step: 100\n                    }),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_state_control__[\"b\" /* Input */], {\n                        id: __WEBPACK_IMPORTED_MODULE_4__constants__[\"a\" /* IDS */].noise,\n                        label: 'Color noise:',\n                        step: 5\n                    }),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_state_control__[\"b\" /* Input */], {\n                        id: __WEBPACK_IMPORTED_MODULE_4__constants__[\"a\" /* IDS */].frames,\n                        label: 'Frames:',\n                        step: 1\n                    }),\n                    this.state.frames > 1 && __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_state_control__[\"b\" /* Input */], {\n                        id: __WEBPACK_IMPORTED_MODULE_4__constants__[\"a\" /* IDS */].delay,\n                        label: 'Delay:',\n                        step: 50\n                    })\n                )\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { className: __WEBPACK_IMPORTED_MODULE_7__RGBFilter_css___default.a.samples },\n                _ref,\n                __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.map(__WEBPACK_IMPORTED_MODULE_4__constants__[\"b\" /* IMAGES */], function (image) {\n                    return (\n                        // eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions,jsx-a11y/click-events-have-key-events\n                        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('img', {\n                            key: image,\n                            src: getSrc(image),\n                            onClick: _this2.selectImage(image),\n                            alt: ''\n                        })\n                    );\n                })\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { className: __WEBPACK_IMPORTED_MODULE_7__RGBFilter_css___default.a.animation },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('img', {\n                    ref: function ref(e) {\n                        _this2.image = e;\n                    },\n                    alt: ''\n                }),\n                _ref2\n            )\n        );\n    };\n\n    return RGBFilter;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]), _class.defaultProps = _extends({}, __WEBPACK_IMPORTED_MODULE_4__constants__[\"c\" /* SETTERS */].Animated, (_extends2 = {}, _extends2[__WEBPACK_IMPORTED_MODULE_4__constants__[\"a\" /* IDS */].sample] = __WEBPACK_IMPORTED_MODULE_4__constants__[\"b\" /* IMAGES */][0], _extends2)), _temp2);\n\n\n/***/ }),\n\n/***/ \"EbHr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return toRGB; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_gif_js__ = __webpack_require__(\"eJS1\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_gif_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_gif_js__);\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\nvar SHADOW = 'SHADOW';\nvar SCALED = 'SCALED';\n\nvar offScreenCanvas = [];\nvar offScreenContext = [];\n\nfunction getCanvas() {\n    var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : SHADOW;\n\n    if (!offScreenCanvas[id]) {\n        offScreenCanvas[id] = document.createElement('canvas');\n    }\n\n    return offScreenCanvas[id];\n}\n\nfunction getContext() {\n    var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : SHADOW;\n\n    if (!offScreenContext[id]) {\n        offScreenContext[id] = getCanvas(id).getContext('2d');\n    }\n\n    return offScreenContext[id];\n}\n\nvar getDeviation = function getDeviation(d) {\n    return Math.random() * d;\n};\n\nvar triple = function triple(c) {\n    return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.concat(c, c, c);\n};\n\nfunction reduceImage(image, _ref) {\n    var divider = _ref.divider,\n        options = _objectWithoutProperties(_ref, ['divider']);\n\n    var width = image.width / divider;\n    var height = image.height / divider;\n\n    getCanvas().width = width;\n    getCanvas().height = height;\n    getContext().drawImage(image, 0, 0, width, height);\n\n    if (getCanvas().width < 1 || getCanvas().height < 1) {\n        return {};\n    }\n\n    return {\n        data: getContext().getImageData(0, 0, width, height),\n        options: options\n    };\n}\n\nfunction mapToRGB(_ref2) {\n    var _ref2$data = _ref2.data,\n        data = _ref2$data.data,\n        width = _ref2$data.width,\n        height = _ref2$data.height,\n        options = _ref2.options;\n\n    var mapRGB = [];\n\n    for (var y = 0; y < height; y += 1) {\n        for (var x = 0; x < width; x += 1) {\n            var index = (y * width + x) * 4;\n\n            var _$slice = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.slice(data, index, index + 3),\n                r = _$slice[0],\n                g = _$slice[1],\n                b = _$slice[2];\n\n            __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.set(mapRGB, [x, y], { r: r, g: g, b: b });\n        }\n    }\n\n    return { mapRGB: mapRGB, options: options };\n}\n\nfunction makeItRGB(_ref3) {\n    var mapRGB = _ref3.mapRGB,\n        _ref3$options = _ref3.options,\n        initNoise = _ref3$options.noise,\n        frames = _ref3$options.frames,\n        multiplier = _ref3$options.multiplier,\n        _ref3$options$imageSm = _ref3$options.imageSmoothingEnabled,\n        imageSmoothingEnabled = _ref3$options$imageSm === undefined ? false : _ref3$options$imageSm,\n        delay = _ref3$options.delay,\n        getBlob = _ref3$options.getBlob;\n\n    var noise = initNoise / 100 * 255;\n    var width = mapRGB.length;\n    if (width === 0) {\n        return;\n    }\n    var height = mapRGB[0].length;\n    var newWidth = width * 3;\n    var newHeight = height * 3;\n\n    getCanvas().width = newWidth;\n    getCanvas().height = newHeight;\n\n    var gif = new __WEBPACK_IMPORTED_MODULE_1_gif_js___default.a({\n        workers: 2,\n        quality: 10,\n        workerScript: './utils/gif.worker.js'\n    });\n\n    for (var i = 0; i < frames; i += 1) {\n        var imageData = getContext().getImageData(0, 0, newWidth, newHeight);\n        var data = imageData.data;\n\n\n        for (var y = 0; y < height; y += 1) {\n            var redLine = [];\n            var greenLine = [];\n            var blueLine = [];\n\n            for (var x = 0; x < width; x += 1) {\n                var _mapRGB$x$y = mapRGB[x][y],\n                    r = _mapRGB$x$y.r,\n                    g = _mapRGB$x$y.g,\n                    b = _mapRGB$x$y.b;\n\n\n                r += getDeviation(noise);\n                g += getDeviation(noise);\n                b += getDeviation(noise);\n\n                var red = [r, 0, 0, 255];\n                var green = [0, g, 0, 255];\n                var blue = [0, 0, b, 255];\n\n                redLine = redLine.concat(triple(red));\n                greenLine = greenLine.concat(triple(green));\n                blueLine = blueLine.concat(triple(blue));\n            }\n\n            data.set(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.concat(redLine, greenLine, blueLine), y * width * 3 * 4 * 3);\n        }\n\n        getContext().putImageData(imageData, 0, 0);\n\n        getCanvas(SCALED).width = getCanvas().width * multiplier;\n        getCanvas(SCALED).height = getCanvas().height * multiplier;\n\n        getContext(SCALED).imageSmoothingEnabled = imageSmoothingEnabled;\n        getContext(SCALED).msImageSmoothingEnabled = imageSmoothingEnabled;\n        getContext(SCALED).mozImageSmoothingEnabled = imageSmoothingEnabled;\n\n        getContext(SCALED).scale(multiplier, multiplier);\n        getContext(SCALED).drawImage(getCanvas(), 0, 0);\n\n        gif.addFrame(getCanvas(SCALED), {\n            delay: delay,\n            copy: true\n        });\n    }\n\n    gif.on('finished', getBlob);\n\n    gif.render();\n}\n\nvar toRGB = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.flow([reduceImage, mapToRGB, makeItRGB]);\n\n/***/ }),\n\n/***/ \"L/hj\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PROCESSORS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return transparent; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__constants__ = __webpack_require__(\"oiih\");\nvar _PROCESSORS;\n\n\n\nvar PROCESSORS = (_PROCESSORS = {}, _PROCESSORS[__WEBPACK_IMPORTED_MODULE_0__constants__[\"a\" /* IDS */].multiplier] = function (value) {\n    return Math.min(Math.max(value, 1), 16);\n}, _PROCESSORS[__WEBPACK_IMPORTED_MODULE_0__constants__[\"a\" /* IDS */].limit] = function (value) {\n    return Math.min(Math.max(value, 1), 1000);\n}, _PROCESSORS[__WEBPACK_IMPORTED_MODULE_0__constants__[\"a\" /* IDS */].noise] = function (value) {\n    return Math.min(Math.max(value, 0), 100);\n}, _PROCESSORS[__WEBPACK_IMPORTED_MODULE_0__constants__[\"a\" /* IDS */].frames] = function (value) {\n    return Math.min(Math.max(value, 1), 10);\n}, _PROCESSORS);\n\nvar transparent = function transparent(value) {\n    return value;\n};\n\n/***/ }),\n\n/***/ \"P7XT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DropImage; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"GiK3\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom__ = __webpack_require__(\"O27J\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_prop_types__ = __webpack_require__(\"KSGD\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__DropImage_css__ = __webpack_require__(\"/cxq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__DropImage_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__DropImage_css__);\nvar _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\nvar BodyPortal = function BodyPortal(_ref) {\n    var children = _ref.children;\n    return Object(__WEBPACK_IMPORTED_MODULE_1_react_dom__[\"createPortal\"])(children, document.body);\n};\n\nvar DropImage = (_temp = _class = function (_Component) {\n    _inherits(DropImage, _Component);\n\n    function DropImage(props) {\n        _classCallCheck(this, DropImage);\n\n        var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n        _this.onFileLoad = function (_ref2) {\n            var target = _ref2.target;\n\n            _this.img.src = target.result;\n        };\n\n        _this.onError = function () {\n            _this.setState({\n                isFileLoading: false,\n                output: 'Try another image, please. If this is an image from other website try to save it locally before dragging.'\n            });\n        };\n\n        _this.onImageLoad = function (_ref3) {\n            var target = _ref3.target;\n\n            _this.setState({\n                isFileLoading: false\n            });\n            _this.props.onDrop(target);\n        };\n\n        _this.handleDragOver = function (evt) {\n            var dataTransfer = evt.dataTransfer;\n\n            dataTransfer.dropEffect = 'copy'; // explicitly show this is a copy\n            evt.stopPropagation();\n            evt.preventDefault();\n        };\n\n        _this.handleDragEnter = function () {\n            _this.setState({\n                isDragOver: true\n            });\n        };\n\n        _this.handleDragLeave = function () {\n            _this.setState({\n                isDragOver: false\n            });\n        };\n\n        _this.readAsData = function (files) {\n            try {\n                _this.file.readAsDataURL(files[0]);\n            } catch (e) {\n                _this.onError(e);\n            }\n        };\n\n        _this.handleFileSelect = function (evt) {\n            _this.setState({\n                isDragOver: false,\n                isFileLoading: true\n            });\n\n            evt.stopPropagation();\n            evt.preventDefault();\n\n            var files = evt.dataTransfer.files;\n\n            var link = evt.dataTransfer.getData('text');\n\n            var output = void 0;\n\n            if (__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.isEmpty(files) && evt.dataTransfer.getData('text')) {\n                output = '';\n                _this.img.src = link;\n            } else {\n                output = __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.map(files, function (f) {\n                    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'li',\n                        { key: f.name },\n                        f.name + ' (' + (f.type || 'n/a') + ') - ' + f.size + ' bytes'\n                    );\n                });\n            }\n            _this.setState({ output: output });\n\n            _this.readAsData(files);\n        };\n\n        _this.handleFile = function (_ref4) {\n            var files = _ref4.target.files;\n\n            _this.readAsData(files);\n        };\n\n        _this.state = {\n            output: '',\n            isDragOver: false,\n            isFileLoading: false\n        };\n\n        _this.file = new FileReader();\n        _this.file.onload = _this.onFileLoad;\n        _this.file.onerror = _this.onError;\n\n        _this.img = new Image();\n        _this.img.onload = _this.onImageLoad;\n        _this.img.onerror = _this.onError;\n        _this.img.src = _this.props.defaultImage;\n        _this.img.crossOrigin = 'Anonymous';\n        return _this;\n    }\n\n    DropImage.prototype.componentDidMount = function componentDidMount() {\n        document.addEventListener('dragover', this.handleDragOver);\n        document.addEventListener('dragenter', this.handleDragEnter);\n        document.addEventListener('drop', this.handleFileSelect);\n    };\n\n    DropImage.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n        if (!__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.isEqual(this.props.defaultImage, nextProps.defaultImage)) {\n            this.img.src = nextProps.defaultImage;\n        }\n    };\n\n    DropImage.prototype.render = function render() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { className: __WEBPACK_IMPORTED_MODULE_4__DropImage_css___default.a.header },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input', { type: 'file', onChange: this.handleFile }),\n                this.props.text\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { className: __WEBPACK_IMPORTED_MODULE_4__DropImage_css___default.a.output },\n                this.state.output\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                BodyPortal,\n                null,\n                this.state.isDragOver && __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    {\n                        className: __WEBPACK_IMPORTED_MODULE_4__DropImage_css___default.a.bodyHover,\n                        onDragLeave: this.handleDragLeave\n                    },\n                    'Drop it!'\n                ),\n                this.state.isFileLoading && __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { className: __WEBPACK_IMPORTED_MODULE_4__DropImage_css___default.a.bodyHover },\n                    'Loading...'\n                )\n            )\n        );\n    };\n\n    return DropImage;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]), _class.defaultProps = {\n    onDrop: __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.noop,\n    defaultImage: '',\n    text: 'Or drag an image on the page'\n}, _temp);\n\n\n/***/ }),\n\n/***/ \"YO0e\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"GiK3\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__RGBFilter__ = __webpack_require__(\"CVAh\");\n\n\n\nvar _ref = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1__RGBFilter__[\"a\" /* default */], null);\n\nvar App = function App() {\n    return _ref;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (App);\n\n/***/ }),\n\n/***/ \"cilB\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"lVK7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"GiK3\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom__ = __webpack_require__(\"O27J\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__index_css__ = __webpack_require__(\"cilB\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__index_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__index_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_App__ = __webpack_require__(\"YO0e\");\n\n\n\n\n\n\nObject(__WEBPACK_IMPORTED_MODULE_1_react_dom__[\"render\"])(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__components_App__[\"a\" /* default */], null), document.querySelector('#app'));\n\n/***/ }),\n\n/***/ \"oiih\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return IDS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return IMAGES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return SETTERS; });\nvar _Animated, _Still, _Slow, _Sharp;\n\nvar IDS = {\n    multiplier: 'multiplier',\n    limit: 'limit',\n    noise: 'noise',\n    sample: 'sample',\n    animate: 'animate',\n    frames: 'frames',\n    delay: 'delay'\n};\n\nvar IMAGES = ['moon.jpg', 'sunset.jpg', 'wikipe-tan.png'];\n\nvar SETTERS = {\n    Animated: (_Animated = {}, _Animated[IDS.multiplier] = 2, _Animated[IDS.limit] = 400, _Animated[IDS.noise] = 10, _Animated[IDS.frames] = 5, _Animated[IDS.delay] = 200, _Animated),\n    Still: (_Still = {}, _Still[IDS.multiplier] = 3, _Still[IDS.limit] = 800, _Still[IDS.noise] = 0, _Still[IDS.frames] = 1, _Still),\n    Slow: (_Slow = {}, _Slow[IDS.multiplier] = 2, _Slow[IDS.limit] = 400, _Slow[IDS.noise] = 20, _Slow[IDS.frames] = 2, _Slow[IDS.delay] = 800, _Slow),\n    Sharp: (_Sharp = {}, _Sharp[IDS.multiplier] = 1, _Sharp[IDS.limit] = 500, _Sharp[IDS.noise] = 10, _Sharp[IDS.frames] = 3, _Sharp[IDS.delay] = 200, _Sharp)\n};\n\n/***/ })\n\n},[0]);\n\n\n// WEBPACK FOOTER //\n// app.23bea47d.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"header\":\"DropImage__header__2YUYx\",\"output\":\"DropImage__output__1uOel\",\"bodyHover\":\"DropImage__bodyHover__37F_0\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/DropImage.css\n// module id = /cxq\n// module chunks = 1","// removed by extract-text-webpack-plugin\nmodule.exports = {\"setters\":\"RGBFilter__setters__2f98E\",\"controls\":\"RGBFilter__controls__szD2O\",\"samples\":\"RGBFilter__samples__19lc7\",\"animation\":\"RGBFilter__animation__PJCcE\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/RGBFilter.css\n// module id = 4t6j\n// module chunks = 1","import React, { Component } from 'react'\nimport { Connector, Input, SettersBlock } from 'state-control'\nimport _ from 'lodash'\nimport DragAndDrop from './DropImage'\nimport { IDS, IMAGES, SETTERS } from '../constants'\nimport { PROCESSORS, transparent } from '../utils'\nimport { toRGB } from '../image-processing'\nimport style from './RGBFilter.css'\n\nlet cache\n\nconst getSrc = (name) => `./images/${name}`\nconst throbber = getSrc('triangles.svg')\n\nexport default class RGBFilter extends Component {\n    static defaultProps = {\n        ...SETTERS.Animated,\n        [IDS.sample]: IMAGES[0],\n    }\n\n    state = {\n        ...this.props,\n    }\n\n    getDivider = () => {\n        const { image, limit, multiplier } = this.state\n        const maxSize = Math.max(image.width, image.height)\n        const realLimit = limit / multiplier / 3\n\n        return maxSize / realLimit\n    }\n\n    setImage = (blob) => {\n        this.image.src = window.URL.createObjectURL(blob)\n    }\n\n    handleDrop = (image) => {\n        this.setState({ image })\n    }\n\n    handleChange = (name, value) => {\n        this.setState({\n            [name]: Math.round((PROCESSORS[name] || transparent)(value)),\n        })\n    }\n\n    selectImage = (sample) => () => {\n        this.setState({ sample })\n    }\n\n    processImage = () => {\n        const { image, noise, frames, delay, multiplier } = this.state\n        if (!image) {\n            return\n        }\n\n        const newCache = { image: image.src, divider: this.getDivider(), noise, frames, delay, multiplier }\n\n        if (_.isEqual(cache, newCache)) {\n            return\n        }\n\n        this.image.src = throbber\n        cache = newCache\n\n        toRGB(image, {\n            divider: this.getDivider(),\n            noise: this.state.noise,\n            frames: this.state.frames,\n            delay: this.state.delay,\n            multiplier: this.state.multiplier,\n            getBlob: this.setImage,\n        })\n    }\n\n    render () {\n        this.processImage()\n\n        return (\n            <div>\n                <DragAndDrop\n                    onDrop={this.handleDrop}\n                    defaultImage={getSrc(this.state.sample)}\n                    text=\"Or drag and drop your image anywhere on the page\"\n                />\n                <div className={style.controls}>\n                    <SettersBlock\n                        className={style.setters}\n                        setters={SETTERS}\n                        setHandler={this.handleChange}\n                    />\n                    <Connector\n                        state={this.state}\n                        onChange={this.handleChange}\n                        type=\"number\"\n                    >\n                        <Input\n                            id={IDS.multiplier}\n                            label=\"Zoom in result:\"\n                        />\n                        <Input\n                            id={IDS.limit}\n                            label=\"Size:\"\n                            step={100}\n                        />\n                        <Input\n                            id={IDS.noise}\n                            label=\"Color noise:\"\n                            step={5}\n                        />\n                        <Input\n                            id={IDS.frames}\n                            label=\"Frames:\"\n                            step={1}\n                        />\n                        {this.state.frames > 1 &&\n                        <Input\n                            id={IDS.delay}\n                            label=\"Delay:\"\n                            step={50}\n                        />}\n                    </Connector>\n                </div>\n                <div className={style.samples}>\n                    <p>Or select one of samples:</p>\n                    {_.map(IMAGES, (image) => (\n                        // eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions,jsx-a11y/click-events-have-key-events\n                        <img\n                            key={image}\n                            src={getSrc(image)}\n                            onClick={this.selectImage(image)}\n                            alt=\"\"\n                        />\n                    ))}\n                </div>\n                <div className={style.animation}>\n                    <img\n                        ref={(e) => { this.image = e }}\n                        alt=\"\"\n                    />\n                    <p>Do right click on image and Save image as...</p>\n                </div>\n            </div>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/RGBFilter.jsx","import _ from 'lodash'\nimport GIF from 'gif.js'\n\nconst SHADOW = 'SHADOW'\nconst SCALED = 'SCALED'\n\nconst offScreenCanvas = []\nconst offScreenContext = []\n\nfunction getCanvas (id = SHADOW) {\n    if (!offScreenCanvas[id]) {\n        offScreenCanvas[id] = document.createElement('canvas')\n    }\n\n    return offScreenCanvas[id]\n}\n\nfunction getContext (id = SHADOW) {\n    if (!offScreenContext[id]) {\n        offScreenContext[id] = getCanvas(id).getContext('2d')\n    }\n\n    return offScreenContext[id]\n}\n\nconst getDeviation = (d) => Math.random() * d\n\nconst triple = (c) => _.concat(c, c, c)\n\nfunction reduceImage (image, { divider, ...options }) {\n    const width = image.width / divider\n    const height = image.height / divider\n\n    getCanvas().width = width\n    getCanvas().height = height\n    getContext().drawImage(image, 0, 0, width, height)\n\n    if (getCanvas().width < 1 || getCanvas().height < 1) {\n        return {}\n    }\n\n    return {\n        data: getContext().getImageData(0, 0, width, height),\n        options,\n    }\n}\n\nfunction mapToRGB ({ data: { data, width, height }, options }) {\n    const mapRGB = []\n\n    for (let y = 0; y < height; y += 1) {\n        for (let x = 0; x < width; x += 1) {\n            const index = ((y * width) + x) * 4\n            const [r, g, b] = _.slice(data, index, index + 3)\n\n            _.set(mapRGB, [x, y], { r, g, b })\n        }\n    }\n\n    return { mapRGB, options }\n}\n\nfunction makeItRGB ({\n    mapRGB,\n    options: {\n        noise: initNoise,\n        frames,\n        multiplier,\n        imageSmoothingEnabled = false,\n        delay,\n        getBlob,\n    },\n}) {\n    const noise = (initNoise / 100) * 255\n    const width = mapRGB.length\n    if (width === 0) {\n        return\n    }\n    const height = mapRGB[0].length\n    const newWidth = width * 3\n    const newHeight = height * 3\n\n    getCanvas().width = newWidth\n    getCanvas().height = newHeight\n\n    const gif = new GIF({\n        workers: 2,\n        quality: 10,\n        workerScript: './utils/gif.worker.js',\n    })\n\n    for (let i = 0; i < frames; i += 1) {\n        const imageData = getContext().getImageData(0, 0, newWidth, newHeight)\n        const { data } = imageData\n\n        for (let y = 0; y < height; y += 1) {\n            let redLine = []\n            let greenLine = []\n            let blueLine = []\n\n            for (let x = 0; x < width; x += 1) {\n                let { r, g, b } = mapRGB[x][y]\n\n                r += getDeviation(noise)\n                g += getDeviation(noise)\n                b += getDeviation(noise)\n\n                const red = [r, 0, 0, 255]\n                const green = [0, g, 0, 255]\n                const blue = [0, 0, b, 255]\n\n                redLine = redLine.concat(triple(red))\n                greenLine = greenLine.concat(triple(green))\n                blueLine = blueLine.concat(triple(blue))\n            }\n\n            data.set(_.concat(redLine, greenLine, blueLine), (y * width * 3) * 4 * 3)\n        }\n\n        getContext().putImageData(imageData, 0, 0)\n\n        getCanvas(SCALED).width = getCanvas().width * multiplier\n        getCanvas(SCALED).height = getCanvas().height * multiplier\n\n        getContext(SCALED).imageSmoothingEnabled = imageSmoothingEnabled\n        getContext(SCALED).msImageSmoothingEnabled = imageSmoothingEnabled\n        getContext(SCALED).mozImageSmoothingEnabled = imageSmoothingEnabled\n\n        getContext(SCALED).scale(multiplier, multiplier)\n        getContext(SCALED).drawImage(getCanvas(), 0, 0)\n\n        gif.addFrame(getCanvas(SCALED), {\n            delay,\n            copy: true,\n        })\n    }\n\n    gif.on('finished', getBlob)\n\n    gif.render()\n}\n\nexport const toRGB = _.flow([reduceImage, mapToRGB, makeItRGB])\n\n\n\n// WEBPACK FOOTER //\n// ./src/image-processing.js","import { IDS } from './constants'\n\nexport const PROCESSORS = {\n    [IDS.multiplier]: (value) => Math.min(Math.max(value, 1), 16),\n    [IDS.limit]: (value) => Math.min(Math.max(value, 1), 1000),\n    [IDS.noise]: (value) => Math.min(Math.max(value, 0), 100),\n    [IDS.frames]: (value) => Math.min(Math.max(value, 1), 10),\n}\n\nexport const transparent = (value) => value\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","import React, { Component } from 'react'\nimport { createPortal } from 'react-dom'\nimport PropTypes from 'prop-types'\nimport _ from 'lodash'\nimport style from './DropImage.css'\n\nconst BodyPortal = ({ children }) => createPortal(children, document.body)\n\nexport default class DropImage extends Component {\n    static propTypes = {\n        onDrop: PropTypes.func,\n        defaultImage: PropTypes.string,\n        text: PropTypes.string,\n    }\n    static defaultProps = {\n        onDrop: _.noop,\n        defaultImage: '',\n        text: 'Or drag an image on the page',\n    }\n\n    constructor (props) {\n        super(props)\n\n        this.state = {\n            output: '',\n            isDragOver: false,\n            isFileLoading: false,\n        }\n\n        this.file = new FileReader()\n        this.file.onload = this.onFileLoad\n        this.file.onerror = this.onError\n\n        this.img = new Image()\n        this.img.onload = this.onImageLoad\n        this.img.onerror = this.onError\n        this.img.src = this.props.defaultImage\n        this.img.crossOrigin = 'Anonymous'\n    }\n\n    componentDidMount () {\n        document.addEventListener('dragover', this.handleDragOver)\n        document.addEventListener('dragenter', this.handleDragEnter)\n        document.addEventListener('drop', this.handleFileSelect)\n    }\n\n    componentWillReceiveProps (nextProps) {\n        if (!_.isEqual(this.props.defaultImage, nextProps.defaultImage)) {\n            this.img.src = nextProps.defaultImage\n        }\n    }\n\n    onFileLoad = ({ target }) => {\n        this.img.src = target.result\n    }\n\n    onError = () => {\n        this.setState({\n            isFileLoading: false,\n            output: 'Try another image, please. If this is an image from other website try to save it locally before dragging.',\n        })\n    }\n\n    onImageLoad = ({ target }) => {\n        this.setState({\n            isFileLoading: false,\n        })\n        this.props.onDrop(target)\n    }\n\n    handleDragOver = (evt) => {\n        const { dataTransfer } = evt\n        dataTransfer.dropEffect = 'copy' // explicitly show this is a copy\n        evt.stopPropagation()\n        evt.preventDefault()\n    }\n\n    handleDragEnter = () => {\n        this.setState({\n            isDragOver: true,\n        })\n    }\n\n    handleDragLeave = () => {\n        this.setState({\n            isDragOver: false,\n        })\n    }\n\n    readAsData = (files) => {\n        try {\n            this.file.readAsDataURL(files[0])\n        } catch (e) {\n            this.onError(e)\n        }\n    }\n\n    handleFileSelect = (evt) => {\n        this.setState({\n            isDragOver: false,\n            isFileLoading: true,\n        })\n\n        evt.stopPropagation()\n        evt.preventDefault()\n\n        const { files } = evt.dataTransfer\n        const link = evt.dataTransfer.getData('text')\n\n        let output\n\n        if (_.isEmpty(files) && evt.dataTransfer.getData('text')) {\n            output = ''\n            this.img.src = link\n        } else {\n            output = _.map(files, (f) => (\n                <li key={f.name}>\n                    {`${f.name} (${f.type || 'n/a'}) - ${f.size} bytes`}\n                </li>\n            ))\n        }\n        this.setState({ output })\n\n        this.readAsData(files)\n    }\n\n    handleFile = ({ target: { files } }) => {\n        this.readAsData(files)\n    }\n\n    render () {\n        return (\n            <div>\n                <div className={style.header}>\n                    <input type=\"file\" onChange={this.handleFile} />{this.props.text}\n                </div>\n                <div className={style.output}>{this.state.output}</div>\n                <BodyPortal>\n                    {this.state.isDragOver &&\n                    <div\n                        className={style.bodyHover}\n                        onDragLeave={this.handleDragLeave}\n                    >\n                        Drop it!\n                    </div>\n                    }\n                    {this.state.isFileLoading &&\n                    <div className={style.bodyHover}>\n                        Loading...\n                    </div>\n                    }\n                </BodyPortal>\n            </div>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DropImage.jsx","import React from 'react'\nimport RGBFilter from './RGBFilter'\n\nconst App = () => (\n    <RGBFilter />\n)\n\nexport default App\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/App.jsx","import React from 'react'\nimport { render } from 'react-dom'\n\nimport './index.css'\nimport App from './components/App'\n\nrender(<App />, document.querySelector('#app'))\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","export const IDS = {\n    multiplier: 'multiplier',\n    limit: 'limit',\n    noise: 'noise',\n    sample: 'sample',\n    animate: 'animate',\n    frames: 'frames',\n    delay: 'delay',\n}\n\nexport const IMAGES = [\n    'moon.jpg',\n    'sunset.jpg',\n    'wikipe-tan.png',\n]\n\nexport const SETTERS = {\n    Animated: {\n        [IDS.multiplier]: 2,\n        [IDS.limit]: 400,\n        [IDS.noise]: 10,\n        [IDS.frames]: 5,\n        [IDS.delay]: 200,\n    },\n    Still: {\n        [IDS.multiplier]: 3,\n        [IDS.limit]: 800,\n        [IDS.noise]: 0,\n        [IDS.frames]: 1,\n    },\n    Slow: {\n        [IDS.multiplier]: 2,\n        [IDS.limit]: 400,\n        [IDS.noise]: 20,\n        [IDS.frames]: 2,\n        [IDS.delay]: 800,\n    },\n    Sharp: {\n        [IDS.multiplier]: 1,\n        [IDS.limit]: 500,\n        [IDS.noise]: 10,\n        [IDS.frames]: 3,\n        [IDS.delay]: 200,\n    },\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.js"],"sourceRoot":""}