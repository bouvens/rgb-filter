webpackJsonp([1],{"/cxq":function(e,t){e.exports={header:"DropImage__header__2YUYx",output:"DropImage__output__1uOel",bodyHover:"DropImage__bodyHover__37F_0"}},"/t4T":function(e,t){e.exports={setters:"style__setters__1rAxM",controls:"style__controls__3wr2f",samples:"style__samples__9Iqr3",animation:"style__animation__1UXNv"}},0:function(e,t,n){n("+prg"),e.exports=n("lVK7")},"0xDb":function(e,t,n){"use strict";var a=n("hUrx");n.d(t,"d",function(){return a.a});var r=n("oAV5");n.d(t,"c",function(){return r.f}),n.d(t,"b",function(){return r.e}),n.d(t,"a",function(){return r.a})},CVAh:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return d});var o=n("GiK3"),c=n.n(o),s=n("P7XT"),l=n("PdBa"),u=n("oiih"),f=n("0xDb"),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d=function(e){function t(){var n,i,o;a(this,t);for(var c=arguments.length,s=Array(c),l=0;l<c;l++)s[l]=arguments[l];return n=i=r(this,e.call.apply(e,[this].concat(s))),i.state=m({},u.c.Animated),i.setImageRef=function(e){i.image=e},i.handleDrop=function(e){i.setState({image:e})},i.handleChange=function(e,t){var n;i.setState((n={},n[e]=Math.round((f.a[e]||function(e){return e})(t)),n))},i.selectImage=function(e){return function(){Object(f.c)(e).then(function(e){i.setState({image:e})})}},o=n,r(i,o)}return i(t,e),t.prototype.componentDidMount=function(){this.selectImage(u.b[0])()},t.prototype.render=function(){var e=this,t=this.state,n=t.image,a=t.limit,r=t.noise,i=t.frames,o=t.delay,m=t.multiplier;return this.image&&n&&(this.image.src=u.d,Object(f.d)({divider:Object(f.b)({image:n,limit:a,multiplier:m}),noise:r,frames:i,delay:o,multiplier:m,image:n}).then(function(t){e.image.src=t})),c.a.createElement("div",null,c.a.createElement(s.a,{onDrop:this.handleDrop,text:"Or drag and drop your image anywhere on the page"}),c.a.createElement(l.b,{state:this.state,handleChange:this.handleChange}),c.a.createElement(l.c,{selectImage:this.selectImage}),c.a.createElement(l.a,{setImageRef:this.setImageRef}))},t}(o.Component)},FbCT:function(e,t,n){"use strict";var a=n("GiK3"),r=n.n(a),i=n("KSGD"),o=(n.n(i),n("M4fF")),c=n.n(o),s=n("/t4T"),l=n.n(s),u=r.a.createElement("p",null,"Do right click on image and „Save image as...“"),f=function(e){var t=e.setImageRef;return r.a.createElement("div",{className:l.a.animation},r.a.createElement("img",{ref:t,alt:""}),u)};f.defaultProps={setImageRef:c.a.noop},t.a=f},P7XT:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return v});var o,c,s=n("GiK3"),l=n.n(s),u=n("O27J"),f=(n.n(u),n("KSGD")),m=(n.n(f),n("M4fF")),d=n.n(m),p=n("/cxq"),h=n.n(p),g=function(e){var t=e.children;return Object(u.createPortal)(t,document.body)},v=(c=o=function(e){function t(n){a(this,t);var i=r(this,e.call(this,n));return i.state={output:"",isDragOver:!1,isFileLoading:!1},i.onFileLoad=function(e){var t=e.target;i.img.src=t.result},i.onError=function(){i.setState({isFileLoading:!1,output:"Try another image, please. If this is an image from other website try to save it locally before dragging."})},i.onImageLoad=function(e){var t=e.target;i.setState({isFileLoading:!1}),i.props.onDrop(t)},i.handleDragOver=function(e){e.dataTransfer.dropEffect="copy",e.stopPropagation(),e.preventDefault()},i.handleDragEnter=function(){i.setState({isDragOver:!0})},i.handleDragLeave=function(){i.setState({isDragOver:!1})},i.readAsData=function(e){try{i.file.readAsDataURL(e)}catch(e){i.onError(e)}},i.handleFileSelect=function(e){i.setState({isDragOver:!1,isFileLoading:!0}),e.stopPropagation(),e.preventDefault();var t=e.dataTransfer.files,n=t.item(0),a=e.dataTransfer.getData("text"),r=void 0;d.a.isEmpty(t)&&e.dataTransfer.getData("text")?(r="",i.img.src=a):r=l.a.createElement("li",{key:n.name},n.name+" ("+(n.type||"n/a")+") - "+n.size+" bytes"),i.setState({output:r}),i.readAsData(n)},i.handleFile=function(e){var t=e.target.files;i.readAsData(t)},i.file=new FileReader,i.file.onload=i.onFileLoad,i.file.onerror=i.onError,i.img=new Image,i.img.onload=i.onImageLoad,i.img.onerror=i.onError,i.img.crossOrigin="Anonymous",i}return i(t,e),t.prototype.componentDidMount=function(){document.addEventListener("dragover",this.handleDragOver),document.addEventListener("dragenter",this.handleDragEnter),document.addEventListener("drop",this.handleFileSelect)},t.prototype.render=function(){return l.a.createElement("div",null,l.a.createElement("div",{className:h.a.header},l.a.createElement("input",{type:"file",onChange:this.handleFile}),this.props.text),l.a.createElement("div",{className:h.a.output},this.state.output),l.a.createElement(g,null,this.state.isDragOver&&l.a.createElement("div",{className:h.a.bodyHover,onDragLeave:this.handleDragLeave},"Drop it!"),this.state.isFileLoading&&l.a.createElement("div",{className:h.a.bodyHover},"Loading...")))},t}(s.Component),o.defaultProps={onDrop:d.a.noop,text:"Or drag an image on the page"},c)},PdBa:function(e,t,n){"use strict";var a=n("fPG8");n.d(t,"b",function(){return a.a});var r=n("Rvwn");n.d(t,"c",function(){return r.a});var i=n("FbCT");n.d(t,"a",function(){return i.a})},Rvwn:function(e,t,n){"use strict";var a=n("GiK3"),r=n.n(a),i=n("KSGD"),o=(n.n(i),n("M4fF")),c=n.n(o),s=n("oiih"),l=n("/t4T"),u=n.n(l),f=r.a.createElement("p",null,"Or select one of samples:"),m=function(e){var t=e.selectImage;return r.a.createElement("div",{className:u.a.samples},f,s.b.map(function(e){return r.a.createElement("img",{key:e,src:e,onClick:t(e),alt:""})}))};m.defaultProps={selectImage:c.a.noop},t.a=m},cilB:function(e,t){},fPG8:function(e,t,n){"use strict";var a=n("GiK3"),r=n.n(a),i=n("KSGD"),o=(n.n(i),n("RjKN")),c=n("M4fF"),s=n.n(c),l=n("oiih"),u=n("/t4T"),f=n.n(u),m=function(e){var t=e.state,n=e.handleChange;return r.a.createElement("div",{className:f.a.controls},r.a.createElement(o.c,{className:f.a.setters,setters:l.c,setHandler:n}),r.a.createElement(o.a,{state:t,onChange:n,type:"number"},r.a.createElement(o.b,{id:l.a.multiplier,label:"Zoom in result:"}),r.a.createElement(o.b,{id:l.a.limit,label:"Size:",step:100}),r.a.createElement(o.b,{id:l.a.noise,label:"Color noise:",step:5}),r.a.createElement(o.b,{id:l.a.frames,label:"Frames:",step:1}),t.frames>1&&r.a.createElement(o.b,{id:l.a.delay,label:"Delay:",step:50})))};m.defaultProps={handleChange:s.a.noop},t.a=m},hUrx:function(e,t,n){"use strict";function a(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function r(e){var t=e.image,n=e.divider,r=a(e,["image","divider"]),i=Object(u.b)(),o=Object(u.c)(),c=t.width/n,s=t.height/n;return i.width=c,i.height=s,o.drawImage(t,0,0,c,s),Object(u.b)().width<1||Object(u.b)().height<1?{}:{data:o.getImageData(0,0,c,s),options:r}}function i(e){for(var t=e.data,n=t.data,a=t.width,r=t.height,i=e.options,o=[],s=0;s<a;s+=1)for(var l=0;l<r;l+=1){var u=4*(l*a+s),f=n.slice(u,u+3),m=f[0],d=f[1],p=f[2];c.a.set(o,[s,l],{r:m,g:d,b:p})}return{mapRGB:o,options:i}}n.d(t,"a",function(){return d});var o=n("M4fF"),c=n.n(o),s=n("eJS1"),l=n.n(s),u=n("oAV5"),f=function(e,t,n,a){return function(r){for(var i=r.data,o=0;o<n;o+=1){for(var c=[],s=[],l=[],f=0;f<t;f+=1){var m=e[f][o],d=m.r,p=m.g,h=m.b;d+=Object(u.d)(a),p+=Object(u.d)(a),h+=Object(u.d)(a);var g=[d,0,0,255],v=[0,p,0,255],b=[0,0,h,255];c=c.concat(Object(u.g)(g)),s=s.concat(Object(u.g)(v)),l=l.concat(Object(u.g)(b))}i.set(c.concat(s,l),o*t*3*4*3)}}},m=function(e){var t=e.mapRGB,n=e.options,a=n.noise,r=n.frames,i=n.multiplier,o=n.imageSmoothingEnabled,c=void 0!==o&&o,s=n.delay;return new Promise(function(e){var n=t.length,o=Object(u.b)(),m=Object(u.c)();if(0!==n){var d=t[0].length,p=3*n,h=3*d;o.width=p,o.height=h;for(var g=f(t,n,d,a),v=new l.a({workers:2,quality:10,workerScript:"./utils/gif.worker.js"}),b=0;b<r;b+=1){var y=m.getImageData(0,0,p,h);g(y),m.putImageData(y,0,0);var E=Object(u.b)("SCALED");E.width=o.width*i,E.height=o.height*i;var O=Object(u.c)("SCALED");O.imageSmoothingEnabled=c,O.msImageSmoothingEnabled=c,O.scale(i,i),O.drawImage(o,0,0),v.addFrame(E,{delay:s,copy:!0})}v.on("finished",function(t){e(window.URL.createObjectURL(t))}),v.render()}})},d=c.a.flow([r,i,m])},lVK7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("GiK3"),r=n.n(a),i=n("O27J"),o=(n.n(i),n("cilB")),c=(n.n(o),n("CVAh"));Object(i.render)(r.a.createElement(c.a,null),document.querySelector("#app"))},oAV5:function(e,t,n){"use strict";function a(e){var t=e.image,n=e.limit,a=e.multiplier;return Math.max(t.width,t.height)/(n/a/3)}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return m[e]||(m[e]=document.createElement("canvas")),m[e]}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return d[e]||(d[e]=r(e).getContext("2d")),d[e]}n.d(t,"f",function(){return s}),t.e=a,n.d(t,"a",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"g",function(){return f}),t.b=r,t.c=i;var o,c=n("oiih"),s=function(e){return new Promise(function(t){var n=new Image;n.onload=function(e){var n=e.target;t(n)},n.src=e})},l=(o={},o[c.a.multiplier]=function(e){return Math.min(Math.max(e,1),16)},o[c.a.limit]=function(e){return Math.min(Math.max(e,1),1e3)},o[c.a.noise]=function(e){return Math.min(Math.max(e,0),100)},o[c.a.frames]=function(e){return Math.min(Math.max(e,1),10)},o),u=function(e){return Math.random()*(e/100)*255},f=function(e){return e.concat(e,e)},m=[],d=[],p="DEFAULT_ID"},oiih:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return m});var a,r,i,o,c={multiplier:"multiplier",limit:"limit",noise:"noise",sample:"sample",animate:"animate",frames:"frames",delay:"delay"},s=["moon.jpg","sunset.jpg","wikipe-tan.png"],l=function(e){return"./images/"+e},u=l("triangles.svg"),f=s.map(l),m={Animated:(a={},a[c.multiplier]=2,a[c.limit]=400,a[c.noise]=10,a[c.frames]=5,a[c.delay]=200,a),Still:(r={},r[c.multiplier]=3,r[c.limit]=800,r[c.noise]=0,r[c.frames]=1,r),Slow:(i={},i[c.multiplier]=2,i[c.limit]=400,i[c.noise]=20,i[c.frames]=2,i[c.delay]=800,i),Sharp:(o={},o[c.multiplier]=1,o[c.limit]=500,o[c.noise]=10,o[c.frames]=3,o[c.delay]=200,o)}}},[0]);
//# sourceMappingURL=app.5be5802e.js.map