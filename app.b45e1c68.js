webpackJsonp([1],{"/cxq":function(e,t){e.exports={header:"DropImage__header__2YUYx",output:"DropImage__output__1uOel",bodyHover:"DropImage__bodyHover__37F_0"}},0:function(e,t,a){a("+prg"),e.exports=a("lVK7")},"4t6j":function(e,t){e.exports={setters:"RGBFilter__setters__2f98E",controls:"RGBFilter__controls__szD2O",samples:"RGBFilter__samples__19lc7",animation:"RGBFilter__animation__PJCcE"}},CVAh:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a.d(t,"a",function(){return I});var o,l,s,c=a("GiK3"),u=a.n(c),m=a("RjKN"),d=a("M4fF"),f=a.n(d),p=a("P7XT"),g=a("oiih"),h=a("L/hj"),v=a("EbHr"),y=a("4t6j"),b=a.n(y),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},D=void 0,w=function(e){return"./images/"+e},O=w("triangles.svg"),_=u.a.createElement("p",null,"Or select one of samples:"),S=u.a.createElement("p",null,"Make right click on image and „Save image as...“"),I=(l=o=function(e){function t(){var a,i,o;n(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return a=i=r(this,e.call.apply(e,[this].concat(s))),i.state=E({},i.props),i.getDivider=function(){var e=i.state,t=e.image,a=e.limit,n=e.multiplier;return Math.max(t.width,t.height)/(a/n/3)},i.setImage=function(e){i.image.src=window.URL.createObjectURL(e)},i.handleDrop=function(e){i.setState({image:e})},i.handleChange=function(e,t){var a;i.setState((a={},a[e]=Math.round((h.a[e]||h.b)(t)),a))},i.selectImage=function(e){return function(){i.setState({sample:e})}},i.processImage=function(){var e=i.state,t=e.image,a=e.noise,n=e.frames,r=e.delay,o=e.multiplier;if(t){var l={image:t.src,divider:i.getDivider(),noise:a,frames:n,delay:r,multiplier:o};f.a.isEqual(D,l)||(i.image.src=O,D=l,Object(v.a)(t,{divider:i.getDivider(),noise:i.state.noise,frames:i.state.frames,delay:i.state.delay,multiplier:i.state.multiplier,getBlob:i.setImage}))}},o=a,r(i,o)}return i(t,e),t.prototype.render=function(){var e=this;return this.processImage(),u.a.createElement("div",null,u.a.createElement(p.a,{onDrop:this.handleDrop,defaultImage:w(this.state.sample),text:"Or drag and drop your image anywhere on the page"}),u.a.createElement("div",{className:b.a.controls},u.a.createElement(m.c,{className:b.a.setters,setters:g.c,setHandler:this.handleChange}),u.a.createElement(m.a,{state:this.state,onChange:this.handleChange,type:"number"},u.a.createElement(m.b,{id:g.a.multiplier,label:"Zoom in result:"}),u.a.createElement(m.b,{id:g.a.limit,label:"Size:",step:100}),u.a.createElement(m.b,{id:g.a.noise,label:"Color noise:",step:5}),u.a.createElement(m.b,{id:g.a.frames,label:"Frames:",step:1}),this.state.frames>1&&u.a.createElement(m.b,{id:g.a.delay,label:"Delay:",step:50}))),u.a.createElement("div",{className:b.a.samples},_,f.a.map(g.b,function(t){return u.a.createElement("img",{key:t,src:w(t),onClick:e.selectImage(t),alt:""})})),u.a.createElement("div",{className:b.a.animation},u.a.createElement("img",{ref:function(t){e.image=t},alt:""})),S)},t}(c.Component),o.defaultProps=E({},g.c.Animated,(s={},s[g.a.sample]=g.b[0],s)),l)},EbHr:function(e,t,a){"use strict";function n(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return g[e]||(g[e]=document.createElement("canvas")),g[e]}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return h[e]||(h[e]=r(e).getContext("2d")),h[e]}function o(e,t){var a=t.divider,o=n(t,["divider"]),l=e.width/a,s=e.height/a;return r().width=l,r().height=s,i().drawImage(e,0,0,l,s),r().width<1||r().height<1?{}:{data:i().getImageData(0,0,l,s),options:o}}function l(e){for(var t=e.data,a=t.data,n=t.width,r=t.height,i=e.options,o=[],l=0;l<r;l+=1)for(var s=0;s<n;s+=1){var c=4*(l*n+s),m=u.a.slice(a,c,c+3),d=m[0],f=m[1],p=m[2];u.a.set(o,[s,l],{r:d,g:f,b:p})}return{mapRGB:o,options:i}}function s(e){var t=e.mapRGB,a=e.options,n=a.noise,o=a.frames,l=a.multiplier,s=a.imageSmoothingEnabled,c=void 0!==s&&s,m=a.delay,f=a.getBlob,g=n/100*255,h=t.length;if(0!==h){var b=t[0].length,E=3*h,D=3*b;r().width=E,r().height=D;for(var w=new d.a({workers:2,quality:10,workerScript:"./utils/gif.worker.js"}),O=0;O<o;O+=1){for(var _=i().getImageData(0,0,E,D),S=_.data,I=0;I<b;I+=1){for(var j=[],F=[],L=[],x=0;x<h;x+=1){var M=t[x][I],C=M.r,P=M.g,R=M.b;C+=v(g),P+=v(g),R+=v(g);var A=[C,0,0,255],G=[0,P,0,255],T=[0,0,R,255];j=j.concat(y(A)),F=F.concat(y(G)),L=L.concat(y(T))}S.set(u.a.concat(j,F,L),I*h*3*4*3)}i().putImageData(_,0,0),r(p).width=r().width*l,r(p).height=r().height*l,i(p).imageSmoothingEnabled=c,i(p).msImageSmoothingEnabled=c,i(p).mozImageSmoothingEnabled=c,i(p).scale(l,l),i(p).drawImage(r(),0,0),w.addFrame(r(p),{delay:m,copy:!0})}w.on("finished",f),w.render()}}a.d(t,"a",function(){return b});var c=a("M4fF"),u=a.n(c),m=a("eJS1"),d=a.n(m),f="SHADOW",p="SCALED",g=[],h=[],v=function(e){return Math.random()*e},y=function(e){return u.a.concat(e,e,e)},b=u.a.flow([o,l,s])},"L/hj":function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return o});var n,r=a("oiih"),i=(n={},n[r.a.multiplier]=function(e){return Math.min(Math.max(e,1),16)},n[r.a.limit]=function(e){return Math.min(Math.max(e,1),1e3)},n[r.a.noise]=function(e){return Math.min(Math.max(e,0),100)},n[r.a.frames]=function(e){return Math.min(Math.max(e,1),10)},n),o=function(e){return e}},P7XT:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a.d(t,"a",function(){return v});var o,l,s=a("GiK3"),c=a.n(s),u=a("O27J"),m=(a.n(u),a("KSGD")),d=(a.n(m),a("M4fF")),f=a.n(d),p=a("/cxq"),g=a.n(p),h=function(e){var t=e.children;return Object(u.createPortal)(t,document.body)},v=(l=o=function(e){function t(a){n(this,t);var i=r(this,e.call(this,a));return i.onFileLoad=function(e){var t=e.target;i.img.src=t.result},i.onError=function(){i.setState({isFileLoading:!1,output:"Try another image, please. If this is an image from other website try to save it locally before dragging."})},i.onImageLoad=function(e){var t=e.target;i.setState({isFileLoading:!1}),i.props.onDrop(t)},i.handleDragOver=function(e){e.dataTransfer.dropEffect="copy",e.stopPropagation(),e.preventDefault()},i.handleDragEnter=function(){i.setState({isDragOver:!0})},i.handleDragLeave=function(){i.setState({isDragOver:!1})},i.readAsData=function(e){try{i.file.readAsDataURL(e[0])}catch(e){i.onError(e)}},i.handleFileSelect=function(e){i.setState({isDragOver:!1,isFileLoading:!0}),e.stopPropagation(),e.preventDefault();var t=e.dataTransfer.files,a=e.dataTransfer.getData("text"),n=void 0;f.a.isEmpty(t)&&e.dataTransfer.getData("text")?(n="",i.img.src=a):n=f.a.map(t,function(e){return c.a.createElement("li",{key:e.name},e.name+" ("+(e.type||"n/a")+") - "+e.size+" bytes")}),i.setState({output:n}),i.readAsData(t)},i.handleFile=function(e){var t=e.target.files;i.readAsData(t)},i.state={output:"",isDragOver:!1,isFileLoading:!1},i.file=new FileReader,i.file.onload=i.onFileLoad,i.file.onerror=i.onError,i.img=new Image,i.img.onload=i.onImageLoad,i.img.onerror=i.onError,i.img.src=i.props.defaultImage,i.img.crossOrigin="Anonymous",i}return i(t,e),t.prototype.componentDidMount=function(){document.addEventListener("dragover",this.handleDragOver),document.addEventListener("dragenter",this.handleDragEnter),document.addEventListener("drop",this.handleFileSelect)},t.prototype.componentWillReceiveProps=function(e){f.a.isEqual(this.props.defaultImage,e.defaultImage)||(this.img.src=e.defaultImage)},t.prototype.render=function(){return c.a.createElement("div",null,c.a.createElement("div",{className:g.a.header},c.a.createElement("input",{type:"file",onChange:this.handleFile}),this.props.text),c.a.createElement("div",{className:g.a.output},this.state.output),c.a.createElement(h,null,this.state.isDragOver&&c.a.createElement("div",{className:g.a.bodyHover,onDragLeave:this.handleDragLeave},"Drop it!"),this.state.isFileLoading&&c.a.createElement("div",{className:g.a.bodyHover},"Loading...")))},t}(s.Component),o.defaultProps={onDrop:f.a.noop,defaultImage:"",text:"Or drag an image on the page"},l)},YO0e:function(e,t,a){"use strict";var n=a("GiK3"),r=a.n(n),i=a("CVAh"),o=r.a.createElement(i.a,null),l=function(){return o};t.a=l},cilB:function(e,t){},lVK7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("GiK3"),r=a.n(n),i=a("O27J"),o=(a.n(i),a("cilB")),l=(a.n(o),a("YO0e"));Object(i.render)(r.a.createElement(l.a,null),document.querySelector("#app"))},oiih:function(e,t,a){"use strict";a.d(t,"a",function(){return l}),a.d(t,"b",function(){return s}),a.d(t,"c",function(){return c});var n,r,i,o,l={multiplier:"multiplier",limit:"limit",noise:"noise",sample:"sample",animate:"animate",frames:"frames",delay:"delay"},s=["moon.jpg","sunset.jpg","wikipe-tan.png"],c={Animated:(n={},n[l.multiplier]=2,n[l.limit]=400,n[l.noise]=10,n[l.frames]=5,n[l.delay]=200,n),Still:(r={},r[l.multiplier]=3,r[l.limit]=800,r[l.noise]=0,r[l.frames]=1,r),Slow:(i={},i[l.multiplier]=2,i[l.limit]=400,i[l.noise]=20,i[l.frames]=2,i[l.delay]=800,i),Sharp:(o={},o[l.multiplier]=1,o[l.limit]=500,o[l.noise]=10,o[l.frames]=3,o[l.delay]=200,o)}}},[0]);
//# sourceMappingURL=app.b45e1c68.js.map